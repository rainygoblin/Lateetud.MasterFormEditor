/**************************************************
LEADTOOLS (C) 1991-2016 LEAD Technologies, Inc. ALL RIGHTS RESERVED.
This software is protected by United States and International copyright laws.
Any copying, duplication, deployment, redistribution, modification or other
disposition hereof is STRICTLY PROHIBITED without an express written license
granted by LEAD Technologies, Inc.. This notice may not be removed or otherwise
altered under any circumstances.
Portions of this product are licensed under US patent 5,327,254 and foreign
counterparts.
For more information, contact LEAD Technologies, Inc. at 704-332-5532 or visit
https://www.leadtools.com
**************************************************/
// Leadtools.Documents.UI.js
// Version:19.0.0.8
(function(){Type.registerNamespace("lt.Documents.UI");window.lt.Documents.UI._lT_VersionNumber=function(){};lt.Documents.UI.DocumentViewerOperation=function(){};lt.Documents.UI.DocumentViewerOperation.prototype={setDocument:0,loadingThumbnails:1,getThumbnail:2,loadingPages:3,getPage:4,runCommand:5,gotoPage:6,itemTypeChanged:7,getText:8,pageTextSelectionChanged:9,textSelectionChanged:10,renderItemPlaceholder:11,renderSelectedText:12,gotoBookmark:13,runLink:14,loadingAnnotations:15,getAnnotations:16,
createAutomation:17,destroyAutomation:18,automationStateChanged:19,selectedTextToReviewObject:20,loadingBookmarks:21,hoverLink:22};lt.Documents.UI.DocumentViewerOperation.registerEnum("lt.Documents.UI.DocumentViewerOperation",!1);lt.Documents.UI.DocumentViewerSelectTextMode=function(){};lt.Documents.UI.DocumentViewerSelectTextMode.prototype={line:0,word:1,character:2};lt.Documents.UI.DocumentViewerSelectTextMode.registerEnum("lt.Documents.UI.DocumentViewerSelectTextMode",!1);lt.Documents.UI.DocumentViewerItemType=
function(){};lt.Documents.UI.DocumentViewerItemType.prototype={image:0,svg:1};lt.Documents.UI.DocumentViewerItemType.registerEnum("lt.Documents.UI.DocumentViewerItemType",!1);lt.Documents.UI.DocumentViewerAsyncOperation=function(){};lt.Documents.UI.DocumentViewerAsyncOperation._run=function(a,b){if(null==a)throw new lt.ArgumentNullException("operation");setTimeout(function(){try{b(),null!=a.get_done()&&a.get_done()(a)}catch(c){null!=a.get_error()&&a.get_error()(a,c)}finally{null!=a.get_always()&&
a.get_always()(a)}},0)};lt.Documents.UI.DocumentViewerAsyncOperation.prototype={_userState:null,get_userState:function(){return this._userState},set_userState:function(a){return this._userState=a},_done:null,get_done:function(){return this._done},set_done:function(a){return this._done=a},_error:null,get_error:function(){return this._error},set_error:function(a){return this._error=a},_always:null,get_always:function(){return this._always},set_always:function(a){return this._always=a}};Object.defineProperty(lt.Documents.UI.DocumentViewerAsyncOperation.prototype,
"userState",{get:lt.Documents.UI.DocumentViewerAsyncOperation.prototype.get_userState,set:lt.Documents.UI.DocumentViewerAsyncOperation.prototype.set_userState,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerAsyncOperation.prototype,"done",{get:lt.Documents.UI.DocumentViewerAsyncOperation.prototype.get_done,set:lt.Documents.UI.DocumentViewerAsyncOperation.prototype.set_done,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerAsyncOperation.prototype,
"error",{get:lt.Documents.UI.DocumentViewerAsyncOperation.prototype.get_error,set:lt.Documents.UI.DocumentViewerAsyncOperation.prototype.set_error,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerAsyncOperation.prototype,"always",{get:lt.Documents.UI.DocumentViewerAsyncOperation.prototype.get_always,set:lt.Documents.UI.DocumentViewerAsyncOperation.prototype.set_always,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerAnnotations=function(a){this._documentViewer=
a};lt.Documents.UI.DocumentViewerAnnotations._updateContainers=function(a){if(null!=a.get_containers())for(var b=1,a=ss.IEnumerator.getEnumerator(a.get_containers());a.moveNext();)a.current.set_pageNumber(b++)};lt.Documents.UI.DocumentViewerAnnotations._getRendererKeys=function(a){var b=[],c;for(c in a)b.push(c);return b};lt.Documents.UI.DocumentViewerAnnotations.prototype={_destroy:function(a){a&&(this._stopWorking(),null!=this._automationManager&&(this._automationManager.remove_userModeChanged(ss.Delegate.create(this,
this._automationManager_UserModeChanged)),this._automationManager=null),a=Type.safeCast(this._automationControl,lt.Documents.UI.ImageViewerAutomationControl),null!=a&&a.dispose(),this._automationControl=null)},_documentViewer:null,get_documentViewer:function(){return this._documentViewer},_automationManager:null,get_automationManager:function(){return this._automationManager},_automation:null,get_automation:function(){return this._automation},_automationControl:null,get_automationControl:function(){return this._automationControl},
_interactiveMode:null,get_interactiveMode:function(){return this._interactiveMode},_containerIsModified:null,isContainerModified:function(a){if(!this._documentViewer.get_hasDocument())return!1;this._documentViewer._checkPageNumber(a,!0,"pageNumber");if(null==this._containerIsModified)return!1;if(a)return this._containerIsModified[a-1];for(var a=this._documentViewer.get_document().pages.length,b=1;b<=a;b++)if(this._containerIsModified[b-1])return!0;return!1},setContainerModified:function(a,b){if(this._documentViewer.get_hasDocument()){this._documentViewer._checkPageNumber(a,
!0,"pageNumber");a&&(this._containerIsModified[a-1]=b);for(var c=this._documentViewer.get_document().pages.length,d=1;d<=c;d++)this._containerIsModified[d-1]=b}},_init:function(){var a=new lt.Documents.UI.ImageViewerAutomationControl;a.set__multiContainerMode(1);a.set_imageViewer(this._documentViewer.get_view().get_imageViewer());var b=new lt.Documents.UI.AnnotationsInteractiveMode;b.set_automationControl(a);this._automationControl=a;this._interactiveMode=b;this._automationManager=new lt.Annotations.Automation.AnnAutomationManager;
this._automationManager.set_redactionRealizePassword("");this._automationManager.set_deselectOnDown(!1);this._automationManager.set_forceSelectionModifierKey(!0);this._automationManager.set_endEditDesignerBeforeDraw(!1);this._automationManager.set_restrictDesigners(!0);this._automationManager.add_userModeChanged(ss.Delegate.create(this,this._automationManager_UserModeChanged));this._updateUseRotateThumbs()},_automationManager_UserModeChanged:function(){this._updateThumbnails(!0)},get_isLoading:function(){return null!=
this._annotationsWorker&&this._annotationsWorker.get_isWorking()},_annotationsWorker:null,_workerContainers:null,_startWorking:function(){this._stopWorking();if(this._documentViewer.get_hasDocument()){var a=new lt.Documents.UI.DocumentViewerOperationEventArgs(15,null,null,null,0,!1);this._documentViewer.onOperation(a);if(!a.get_abort()){var a=this._documentViewer.get_document(),b=a.pages.length;this._containerIsModified=Array(b);for(var c=0;c<b;c++)this._containerIsModified[c]=!1;this._workerContainers=
Array(b);this._annotationsWorker=new lt.Documents.UI._annotationsWorker;this._annotationsWorker.add_preProcessItem(ss.Delegate.create(this,this._annotationsWorker_PreProcessItem));this._annotationsWorker.add_postProcessItem(ss.Delegate.create(this,this._annotationsWorker_PostProcessItem));this._annotationsWorker.add_completed(ss.Delegate.create(this,this._annotationsWorker_Completed));this._annotationsWorker.start(a)}}},_stopWorking:function(){this._deleteWorker();this._containerIsModified=null;if(null!=
this._automation){var a=new lt.Documents.UI.DocumentViewerOperationEventArgs(18,null,this._automation,null,0,!1);this._documentViewer.onOperation(a);if(!a.get_abort()){this._automation.remove_currentDesignerChanged(ss.Delegate.create(this,this._automation_CurrentDesignerChanged));this._automation.remove_dragDrop(ss.Delegate.create(this,this._automation_DragDrop));this._automation.remove_activeContainerChanged(ss.Delegate.create(this,this._automation_ActiveContainerChanged));this._automation.remove_afterObjectChanged(ss.Delegate.create(this,
this._automation_AfterObjectChanged));this._automation.remove_afterUndoRedo(ss.Delegate.create(this,this._automation_AfterUndoRedo));this._automation.get_containers().clear();for(var a=-1,b=this._automationManager.get_automations().get_count(),c=0;c<b&&-1===a;c++)this._automationManager.get_automations().get_item(c)===this._automation&&(a=c);-1!==a&&this._automationManager.get_automations().removeAt(a);this._automation=null;this._ensureSelectObject();a=new lt.Documents.UI.DocumentViewerOperationEventArgs(18,
null,null,null,0,!0);this._documentViewer.onOperation(a)}}},_deleteWorker:function(){null!=this._annotationsWorker&&(this._annotationsWorker.stop(),this._annotationsWorker.remove_preProcessItem(ss.Delegate.create(this,this._annotationsWorker_PreProcessItem)),this._annotationsWorker.remove_postProcessItem(ss.Delegate.create(this,this._annotationsWorker_PostProcessItem)),this._annotationsWorker.remove_completed(ss.Delegate.create(this,this._annotationsWorker_Completed)),this._annotationsWorker.dispose(),
this._annotationsWorker=null,this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(15,null,null,null,0,!0)))},_createAutomation:function(){this._deleteWorker();var a=this._documentViewer.get_document();if(null!=a){var b=new lt.Documents.UI.DocumentViewerOperationEventArgs(17,null,null,null,0,!1);this._documentViewer.onOperation(b);if(!b.get_abort()){this._ensureSelectObject();this._automation=new lt.Annotations.Automation.AnnAutomation(this._automationManager,this._automationControl);
this._automation.set_enableDragDrop(!0);this._automation.get_containers().clear();this._automation.add_currentDesignerChanged(ss.Delegate.create(this,this._automation_CurrentDesignerChanged));this._automation.add_dragDrop(ss.Delegate.create(this,this._automation_DragDrop));this._automation.add_activeContainerChanged(ss.Delegate.create(this,this._automation_ActiveContainerChanged));this._automation.add_afterObjectChanged(ss.Delegate.create(this,this._automation_AfterObjectChanged));this._automation.add_afterUndoRedo(ss.Delegate.create(this,
this._automation_AfterUndoRedo));var b=a.pages.length,c=this._documentViewer.get_view().get_imageViewer();c.beginUpdate();for(var d=0;d<b;d++){var f=a.pages[d],g=f.size,f=f.resolution,e=null;null!=this._workerContainers&&d<this._workerContainers.length&&(e=this._workerContainers[d]);null==e&&(e=new lt.Annotations.Core.AnnContainer,e.set_size(g),e.get_mapper().mapResolutions(f,f,f,f));e.get_mapper().set_fontRelativeToDevice(!1);this._automation.get_containers().add(e);this._automation.get_active()||
this._automation.set_active(!0);lt.Documents.UI.DocumentViewerAnnotations._updateContainers(this._automation)}c.endUpdate();b=new lt.Documents.UI.DocumentViewerOperationEventArgs(17,null,this._automation,null,0,!0);this._documentViewer.onOperation(b);null!=this._documentViewer.get_thumbnails()&&this._documentViewer.get_thumbnails().invalidate(lt.LeadRectD.get_empty());this._workerContainers=null}}},_annotationsWorker_PreProcessItem:function(){},_annotationsWorker_PostProcessItem:function(a,b){ss.Delegate.create(this,
function(a,d){if(!(null==this._annotationsWorker||this._annotationsWorker.get_isCancelPending()||this._annotationsWorker!==d.get__itemsWorker())){var b=d.get_itemIndex();if(b){if(0>b||null==this._workerContainers||b>=this._workerContainers.length)return}else if(null==this._workerContainers)return;if(b){g=new lt.Documents.UI.DocumentViewerOperationEventArgs(16,null,null,null,b+1,!1);this._documentViewer.onOperation(g);if(g.get_abort())return;g=Type.safeCast(d.get_data1(),lt.Annotations.Core.AnnContainer);
this._workerContainers[b]=g;g=null!=g&&null==d.get_error()?new lt.Documents.UI.DocumentViewerOperationEventArgs(16,null,g,null,b+1,!0):new lt.Documents.UI.DocumentViewerOperationEventArgs(16,d.get_error(),null,null,b+1,!0)}else{var g=new lt.Documents.UI.DocumentViewerOperationEventArgs(16,null,null,null,0,!1);this._documentViewer.onOperation(g);if(g.get_abort())return;b=Type.safeCast(d.get_data1(),Array);if(null!=b)for(g=0;g<b.length;g++)g<this._workerContainers.length&&(this._workerContainers[g]=
b[g]);g=null!=b&&null==d.get_error()?new lt.Documents.UI.DocumentViewerOperationEventArgs(16,null,this._workerContainers,null,0,!0):new lt.Documents.UI.DocumentViewerOperationEventArgs(16,d.get_error(),null,null,0,!0)}this._documentViewer.onOperation(g)}})(this,b)},_annotationsWorker_Completed:function(a,b){if(!(null==this._annotationsWorker||this._annotationsWorker.get_isCancelPending()||this._annotationsWorker!==b.get__itemsWorker())){var c=ss.Delegate.create(this,function(){this._createAutomation()});
lt.Documents.UI._invoker.beginInvoke0(this._documentViewer.get_view().get_imageViewer(),c)}},_automation_CurrentDesignerChanged:function(){var a=new lt.Documents.UI.DocumentViewerOperationEventArgs(19,null,null,null,0,!1);this._documentViewer.onOperation(a);if(null!=this._automation.get_currentEditObject())a=this._automation.getObjectInvalidateRect(this._automation.get_currentEditObject()),this._documentViewer.get_view().get_imageViewer().ensureBoundsVisible(a),this._documentViewer.get_text().hasSelectedText(0)&&
this._documentViewer.get_text().clearSelection(0);else{var b=Type.safeCast(this._automation.get_currentDesigner(),lt.Annotations.Designers.AnnDrawDesigner);if(null!=b){var c=Type.safeCast(b,lt.Documents.UI._textReviewDrawDesigner);null!=c&&(a=this._automation.get_activeContainer().get_pageNumber(),this._documentViewer.get_text().hasSelectedText(a)?(b=Type.safeCast(b.get_targetObject().clone(),lt.Annotations.Core.AnnTextReviewObject),this._automation.endDesigner(),this.selectedTextToReviewObject(a,
b)):c.set_documentViewer(this._documentViewer))}}a=new lt.Documents.UI.DocumentViewerOperationEventArgs(19,null,null,null,0,!0);this._documentViewer.onOperation(a)},_automation_DragDrop:function(a,b){null==b.get_targetContainer()&&b.set_allowed(!1)},_automation_ActiveContainerChanged:function(){lt.Documents.UI.DocumentViewerAnnotations._updateContainers(this._automation);this._automationControl.automationInvalidate(lt.LeadRectD.get_empty())},_automation_AfterObjectChanged:function(a,b){if(null!=b.get_objects()&&
b.get_objects().get_count())switch(b.get_changeType()){case lt.Annotations.Automation.AnnObjectChangedType.designerEdit:var c=Type.safeCast(this._automation.get_currentDesigner(),lt.Annotations.Designers.AnnEditDesigner);null!=c&&c.get_isModified()&&(this._internalSetContainerModified(this._automation.get_activeContainer()),this._updateObjectsMetadata(b.get_objects()),c.set_isModified(!1));break;case lt.Annotations.Automation.AnnObjectChangedType.none:break;default:this._internalSetContainerModified(this._automation.get_activeContainer()),
this._updateObjectsMetadata(b.get_objects())}},_internalSetContainerModified:function(a){null!=a&&(this._containerIsModified[a.get_pageNumber()-1]=!0)},_automation_AfterUndoRedo:function(){this._updateThumbnails(!1)},_updateObjectsMetadata:function(a){if(null!=a&&a.get_count()){for(var b=lt.Annotations.Core.AnnObject.dateToString(Date.get_now()),c=[lt.Annotations.Core.AnnObject.authorMetadataKey,lt.Annotations.Core.AnnObject.createdMetadataKey,lt.Annotations.Core.AnnObject.modifiedMetadataKey],b=
[this._documentViewer.get_userName(),b,b],d=[!0,!1,!0],a=ss.IEnumerator.getEnumerator(a);a.moveNext();)this._updateObjectMetadata(a.current,c,b,d);this._updateThumbnails(!1)}},_updateObjectMetadata:function(a,b,c,d){var f=Type.safeCast(a,lt.Annotations.Core.AnnSelectionObject);if(null!=f)for(a=ss.IEnumerator.getEnumerator(f.get_selectedObjects());a.moveNext();)this._updateObjectMetadata(a.current,b,c,d);else for(f=0;f<b.length;f++){var g=b[f];if(d[f]||!Object.keyExists(a.get_metadata(),g)||String.isNullOrEmpty(a.get_metadata()[g]))a.get_metadata()[b[f]]=
c[f]}},_updateThumbnails:function(a){null!=this._documentViewer.get_thumbnails()&&null!=this._automationManager&&null!=this._automation&&null!=this._automation.get_activeContainer()&&(a?this._documentViewer.get_thumbnails().get_imageViewer().invalidate(lt.LeadRectD.get_empty()):(a=this._automation.get_activeContainer().get_pageNumber(),this._documentViewer.get_thumbnails().get_imageViewer().invalidateItemByIndex(a-1)))},initialize:function(){if(null!=this._automationManager){this._automationManager.createDefaultObjects();
for(var a=lt.Annotations.Designers.AnnTextReviewDrawDesigner,b=lt.Documents.UI._textReviewDrawDesigner,c=ss.IEnumerator.getEnumerator(this._automationManager.get_objects());c.moveNext();){var d=c.current;null!=d&&d.get_drawDesignerType()===a&&d.set_drawDesignerType(b)}a=this._automationManager.get_renderingEngine();b=lt.Documents.UI.DocumentViewerAnnotations._getRendererKeys(a.get_renderers());for(b=ss.IEnumerator.getEnumerator(b);b.moveNext();)c=b.current,c=a.get_renderers()[c],d=new lt.Annotations.Rendering.AnnLabelRenderer,
d.initialize(a),c.set_labelRenderer(d),c=Type.safeCast(c,lt.Annotations.Rendering.AnnTextObjectRenderer),null!=c&&c.set_flipReverseText(!0)}},_ensureSelectObject:function(){null==this._automationManager||this._automationManager.get_currentObjectId()===lt.Annotations.Core.AnnObject.selectObjectId||this._automationManager.set_currentObjectId(lt.Annotations.Core.AnnObject.selectObjectId)},_ensureSelectObjectKeepDesigners:function(){if(!(null==this._automationManager||this._automationManager.get_currentObjectId()===
lt.Annotations.Core.AnnObject.selectObjectId)){var a=this._automationManager.get_cancelInactiveDesigners();this._automationManager.set_cancelInactiveDesigners(!1);this._automationManager.set_currentObjectId(lt.Annotations.Core.AnnObject.selectObjectId);this._automationManager.set_cancelInactiveDesigners(a)}},groupSelectedObjects:function(a){if(null!=this._automation){var b=this._automation.get_activeContainer(),b=null!=b?b.get_selectionObject():null;if(null!=b&&1<b.get_selectedObjects().get_count())for(b=
ss.IEnumerator.getEnumerator(b.get_selectedObjects());b.moveNext();)b.current.set_groupName(a)}},ungroupSelectedObjects:function(){if(null!=this._automation){var a=this._automation.get_activeContainer(),a=null!=a?a.get_selectionObject():null;null!=a&&1<a.get_selectedObjects().get_count()&&a.ungroup(a.get_selectedObjects().get_item(0).get_groupName())}},_useRotateThumbs:!0,get_useRotateThumbs:function(){return this._useRotateThumbs},set_useRotateThumbs:function(a){this._useRotateThumbs=a;this._updateUseRotateThumbs();
return a},_renderOnThumbnails:!0,get_renderOnThumbnails:function(){return this._renderOnThumbnails},set_renderOnThumbnails:function(a){this._renderOnThumbnails!==a&&(this._renderOnThumbnails=a,null!=this._documentViewer.get_thumbnails()&&this._documentViewer.get_thumbnails().get_imageViewer().invalidate(lt.LeadRectD.get_empty()));return a},_updateUseRotateThumbs:function(){null!=this._automationManager&&(this._automationManager.set_useRotateThumbs(this._useRotateThumbs),null!=this._automation&&this._automation.get_canSelectNone()&&
this._automation.get_automationControl().automationInvalidate(lt.LeadRectD.get_empty()))},_deselect:function(){null==this._automation||Type.canCast(this._automation.get_currentDesigner(),lt.Annotations.Designers.AnnDrawDesigner)||this._automation.get_canSelectNone()&&this._automation.selectObjects(null)},_selectAll:function(a){null!=this._automation&&this._automation.get_canSelectObjects()&&(a||(a=this._documentViewer.get_currentPageNumber()),this._automation.selectObjects(this._automation.get_containers().get_item(a-
1).get_children()))},_paste:function(a){if(null!=this._automation){var b=!1;if(!a.get_isEmpty()){var a=lt.Controls.PrimitivesHelper.toLeadPointD(a),c=this._automation.get_activeContainer();null!=c&&(a=c.get_mapper().pointToContainerCoordinates(a),a.get_isEmpty()||(this._automation.pasteAt(a),b=!0))}b||this._automation.paste()}},_renderThumbnail:function(a,b){if(!(null==this._documentViewer.get_thumbnails()||null==this._automation||null==this._automation.get_containers()||1>a&&a>=this._automation.get_containers().get_count())){var c=
this._documentViewer.get_thumbnails().get_imageViewer(),d=b.get_item(),f=c.getItemImageTransform(d),g=d.get_imageSize();if(!lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(g)&&(c=c.getItemViewBounds(d,lt.Controls.ImageViewerItemPart.image,!1),!c.get_isEmpty())){c.set_width(c.get_width()+1);c.set_height(c.get_height()+1);var d=this._automation.get_containers().get_item(a-1),e=d.get_isVisible();d.set_isVisible(!0);var h=this._automation.get_manager().get_renderingEngine(),i=h.get_renderState();h.set_renderState(lt.Annotations.Core.AnnRenderState.none);
var j=b.get_context();h.attach(d,j);var l=lt.Controls.GraphicsHelper.saveContext(j);try{lt.Controls.GraphicsHelper.intersectClip(j,c);lt.Controls.GraphicsHelper.multiplyTransform(j,f);var k=lt.LeadRectD.create(0,0,720*g.get_width()/96,720*g.get_height()/96);h.burnToRectWithDpi(k,96,96,96,96)}finally{d.get_isVisible()!==e&&d.set_isVisible(e),null!=l&&lt.Controls.GraphicsHelper.restoreContext(j,l),h.get_renderState()!==i&&h.set_renderState(i),h.detach()}}}},selectedTextToReviewObject:function(a,b){if(null==
b)throw new lt.ArgumentNullException("textReviewObject");if(!this._documentViewer.get_hasDocument())return!1;var c=this._documentViewer.get_text().getSelectedTextItems(a);if(null==c||!c.length)return!1;var d=new lt.Documents.UI.DocumentViewerOperationEventArgs(20,null,b,null,a,!1);this._documentViewer.onOperation(d);if(d.get_abort())return!1;var f=this._documentViewer.get_annotations().get_automation(),g=f.get_activeContainer();try{this._setTextReviewRectangles(a,c,b);var e=!g.get_children().contains(b);
if(e){f.beginUndo();try{g.get_children().add(b)}finally{f.endUndo()}f.selectObject(b)}var h=new lt.Annotations.Core.AnnObjectCollection;h.add(b);this._updateObjectsMetadata(h);e&&f.invokeAfterObjectChanged(h,lt.Annotations.Automation.AnnObjectChangedType.added);var i=ss.Delegate.create(this,this._ensureSelectObjectKeepDesigners);lt.Documents.UI._invoker.beginInvoke0(this._documentViewer.get_view().get_imageViewer(),i);d=new lt.Documents.UI.DocumentViewerOperationEventArgs(20,null,b,null,a,!0);this._documentViewer.onOperation(d);
this._documentViewer.get_text().clearSelection(a);return!0}catch(j){return d=new lt.Documents.UI.DocumentViewerOperationEventArgs(20,j,null,null,a,!0),this._documentViewer.onOperation(d),!1}},_setTextReviewRectangles:function(a,b,c){var d=this._documentViewer.get_document(),f=this._automation.get_containers().get_item(a-1),g=this._documentViewer.get_view().get_imageViewer(),a=g.get_items().get_item(a-1),e=null,h=null!=b?b.length:0;0<h&&(e=Array(h));for(var i=0;i<h;i++){var j=lt.Controls.PrimitivesHelper.toLeadRectD(d.rectToPixels(b[i].get_bounds())),
j=g.convertRect(a,lt.Controls.ImageViewerCoordinateType.image,lt.Controls.ImageViewerCoordinateType.control,j),j=f.get_mapper().rectToContainerCoordinates(j);e[i]=j}c.setRectangles(e)},_getModifiedContainers:function(){for(var a=null,b=this._documentViewer.get_document().pages.length,c=1;c<=b;c++){var d=c-1;this._containerIsModified[d]&&(null==a&&(a=[]),a.add(this._automation.get_containers().get_item(d)))}return a},_resetModifiedContainers:function(a){if(null!=a)for(a=ss.IEnumerator.getEnumerator(a);a.moveNext();)this._containerIsModified[a.current.get_pageNumber()-
1]=!1},dispose:function(){this._destroy(!0)},_prepareToSave:function(a){var b=this._getModifiedContainers();if(null==b||!b.length)a.resolve();else{var c=this._documentViewer.get_document();new lt.Annotations.Core.AnnCodecs;for(var d=Array(b.length),f=0;f<b.length;f++)d[f]=b[f];b=c.annotations.setAnnotations(d);b.done(function(){a.resolve()});b.fail(function(d){a.reject(d,"error",Type.safeCast(d.statusText,String))})}}};Object.defineProperty(lt.Documents.UI.DocumentViewerAnnotations.prototype,"documentViewer",
{get:lt.Documents.UI.DocumentViewerAnnotations.prototype.get_documentViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerAnnotations.prototype,"automationManager",{get:lt.Documents.UI.DocumentViewerAnnotations.prototype.get_automationManager,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerAnnotations.prototype,"automation",{get:lt.Documents.UI.DocumentViewerAnnotations.prototype.get_automation,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Documents.UI.DocumentViewerAnnotations.prototype,"automationControl",{get:lt.Documents.UI.DocumentViewerAnnotations.prototype.get_automationControl,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerAnnotations.prototype,"interactiveMode",{get:lt.Documents.UI.DocumentViewerAnnotations.prototype.get_interactiveMode,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerAnnotations.prototype,"isLoading",{get:lt.Documents.UI.DocumentViewerAnnotations.prototype.get_isLoading,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerAnnotations.prototype,"useRotateThumbs",{get:lt.Documents.UI.DocumentViewerAnnotations.prototype.get_useRotateThumbs,set:lt.Documents.UI.DocumentViewerAnnotations.prototype.set_useRotateThumbs,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerAnnotations.prototype,"renderOnThumbnails",{get:lt.Documents.UI.DocumentViewerAnnotations.prototype.get_renderOnThumbnails,set:lt.Documents.UI.DocumentViewerAnnotations.prototype.set_renderOnThumbnails,
enumerable:!0,configurable:!0});lt.Documents.UI.ImageViewerAutomationControl=function(){this._containerIndex=-1};lt.Documents.UI.ImageViewerAutomationControl._renderContainer=function(a,b,c,d){var f=a.get_context(),a=a.get_clipRectangle().clone();b.attach(c,f);try{var g=lt.LeadRectD.create(a.get_x(),a.get_y(),a.get_width(),a.get_height()),g=c.get_mapper().rectToContainerCoordinates(g);b.render(g,d)}finally{b.detach()}};lt.Documents.UI.ImageViewerAutomationControl.prototype={get__multiContainerMode:function(){return 1},
set__multiContainerMode:function(a){return a},_fixWarnings:function(){null!=this.__automationEnabledChanged&&this.__automationEnabledChanged(null,null);null!=this.__automationGotFocus&&this.__automationGotFocus(null,null);null!=this.__automationLostFocus&&this.__automationLostFocus(null,null)},dispose:function(){this._unhook()},_imageViewer:null,get_imageViewer:function(){return this._imageViewer},set_imageViewer:function(a){this._imageViewer!==a&&(this._unhook(),this._imageViewer=a,this._hook());
return a},get_automationScrollOffset:function(){return null!=this._imageViewer?this._imageViewer.get_scrollOffset():lt.LeadPointD.create(0,0)},_hook:function(){null!=this._imageViewer&&(this._imageViewer.add_propertyChanged(ss.Delegate.create(this,this._imageViewer_PropertyChanged)),this._imageViewer.add_itemChanged(ss.Delegate.create(this,this._imageViewer_ItemChanged)),this._imageViewer.add_activeItemChanged(ss.Delegate.create(this,this._imageViewer_ActiveItemChanged)),this._imageViewer.add_transformChanged(ss.Delegate.create(this,
this._imageViewer_TransformChanged)),this._imageViewer.add_postRender(ss.Delegate.create(this,this._imageViewer_PostRender)))},_unhook:function(){null!=this._imageViewer&&(this._imageViewer.remove_propertyChanged(ss.Delegate.create(this,this._imageViewer_PropertyChanged)),this._imageViewer.remove_itemChanged(ss.Delegate.create(this,this._imageViewer_ItemChanged)),this._imageViewer.remove_activeItemChanged(ss.Delegate.create(this,this._imageViewer_ActiveItemChanged)),this._imageViewer.remove_transformChanged(ss.Delegate.create(this,
this._imageViewer_TransformChanged)),this._imageViewer.remove_postRender(ss.Delegate.create(this,this._imageViewer_PostRender)),null!=this._automationObject&&this._automationObject.remove_activeContainerChanged(ss.Delegate.create(this,this._automationObject_ActiveContainerChanged)))},_automationObject:null,get_automationObject:function(){return this._automationObject},set_automationObject:function(a){null!=this._automationObject&&this._automationObject.remove_activeContainerChanged(ss.Delegate.create(this,
this._automationObject_ActiveContainerChanged));this._automationObject=Type.safeCast(a,lt.Annotations.Automation.AnnAutomation);null!=this._automationObject&&this._automationObject.add_activeContainerChanged(ss.Delegate.create(this,this._automationObject_ActiveContainerChanged));return a},add_automationPointerDown:function(a){this.__automationPointerDown=ss.Delegate.combine(this.__automationPointerDown,a)},remove_automationPointerDown:function(a){this.__automationPointerDown=ss.Delegate.remove(this.__automationPointerDown,
a)},__automationPointerDown_handler_get:function(){null==this.__automationPointerDown_handler&&(this.__automationPointerDown_handler=ss.EventHandler.create(this,this.add_automationPointerDown,this.remove_automationPointerDown));return this.__automationPointerDown_handler},__automationPointerDown:null,__automationPointerDown_handler:null,add_automationPointerMove:function(a){this.__automationPointerMove=ss.Delegate.combine(this.__automationPointerMove,a)},remove_automationPointerMove:function(a){this.__automationPointerMove=
ss.Delegate.remove(this.__automationPointerMove,a)},__automationPointerMove_handler_get:function(){null==this.__automationPointerMove_handler&&(this.__automationPointerMove_handler=ss.EventHandler.create(this,this.add_automationPointerMove,this.remove_automationPointerMove));return this.__automationPointerMove_handler},__automationPointerMove:null,__automationPointerMove_handler:null,add_automationPointerUp:function(a){this.__automationPointerUp=ss.Delegate.combine(this.__automationPointerUp,a)},
remove_automationPointerUp:function(a){this.__automationPointerUp=ss.Delegate.remove(this.__automationPointerUp,a)},__automationPointerUp_handler_get:function(){null==this.__automationPointerUp_handler&&(this.__automationPointerUp_handler=ss.EventHandler.create(this,this.add_automationPointerUp,this.remove_automationPointerUp));return this.__automationPointerUp_handler},__automationPointerUp:null,__automationPointerUp_handler:null,add_automationDoubleClick:function(a){this.__automationDoubleClick=
ss.Delegate.combine(this.__automationDoubleClick,a)},remove_automationDoubleClick:function(a){this.__automationDoubleClick=ss.Delegate.remove(this.__automationDoubleClick,a)},__automationDoubleClick_handler_get:function(){null==this.__automationDoubleClick_handler&&(this.__automationDoubleClick_handler=ss.EventHandler.create(this,this.add_automationDoubleClick,this.remove_automationDoubleClick));return this.__automationDoubleClick_handler},__automationDoubleClick:null,__automationDoubleClick_handler:null,
onAutomationPointerDown:function(a){null!=this.__automationPointerDown&&this.__automationPointerDown(this,a)},onAutomationPointerMove:function(a){null!=this.__automationPointerMove&&this.__automationPointerMove(this,a)},onAutomationPointerUp:function(a){null!=this.__automationPointerUp&&this.__automationPointerUp(this,a)},onAutomationDoubleClick:function(a){null!=this.__automationDoubleClick&&this.__automationDoubleClick(this,a)},get_automationDpiX:function(){return null!=this._imageViewer?this._imageViewer.get_screenDpi().get_width():
96},get_automationDpiY:function(){return null!=this._imageViewer?this._imageViewer.get_screenDpi().get_height():96},get_automationEnabled:function(){return null!=this._imageViewer},add_automationEnabledChanged:function(a){this.__automationEnabledChanged=ss.Delegate.combine(this.__automationEnabledChanged,a)},remove_automationEnabledChanged:function(a){this.__automationEnabledChanged=ss.Delegate.remove(this.__automationEnabledChanged,a)},__automationEnabledChanged_handler_get:function(){null==this.__automationEnabledChanged_handler&&
(this.__automationEnabledChanged_handler=ss.EventHandler.create(this,this.add_automationEnabledChanged,this.remove_automationEnabledChanged));return this.__automationEnabledChanged_handler},__automationEnabledChanged:null,__automationEnabledChanged_handler:null,add_automationGotFocus:function(a){this.__automationGotFocus=ss.Delegate.combine(this.__automationGotFocus,a)},remove_automationGotFocus:function(a){this.__automationGotFocus=ss.Delegate.remove(this.__automationGotFocus,a)},__automationGotFocus_handler_get:function(){null==
this.__automationGotFocus_handler&&(this.__automationGotFocus_handler=ss.EventHandler.create(this,this.add_automationGotFocus,this.remove_automationGotFocus));return this.__automationGotFocus_handler},__automationGotFocus:null,__automationGotFocus_handler:null,add_automationLostFocus:function(a){this.__automationLostFocus=ss.Delegate.combine(this.__automationLostFocus,a)},remove_automationLostFocus:function(a){this.__automationLostFocus=ss.Delegate.remove(this.__automationLostFocus,a)},__automationLostFocus_handler_get:function(){null==
this.__automationLostFocus_handler&&(this.__automationLostFocus_handler=ss.EventHandler.create(this,this.add_automationLostFocus,this.remove_automationLostFocus));return this.__automationLostFocus_handler},__automationLostFocus:null,__automationLostFocus_handler:null,add_automationSizeChanged:function(a){this.__automationSizeChanged=ss.Delegate.combine(this.__automationSizeChanged,a)},remove_automationSizeChanged:function(a){this.__automationSizeChanged=ss.Delegate.remove(this.__automationSizeChanged,
a)},__automationSizeChanged_handler_get:function(){null==this.__automationSizeChanged_handler&&(this.__automationSizeChanged_handler=ss.EventHandler.create(this,this.add_automationSizeChanged,this.remove_automationSizeChanged));return this.__automationSizeChanged_handler},__automationSizeChanged:null,__automationSizeChanged_handler:null,_imageViewer_ItemChanged:function(a,b){switch(b.get_reason()){case lt.Controls.ImageViewerItemChangedReason.url:case lt.Controls.ImageViewerItemChangedReason.image:case lt.Controls.ImageViewerItemChangedReason.imageChanged:case lt.Controls.ImageViewerItemChangedReason.size:case lt.Controls.ImageViewerItemChangedReason.transform:null!=
this.__automationTransformChanged&&this.__automationTransformChanged(this,lt.LeadEventArgs.Empty),null!=this.__automationSizeChanged&&this.__automationSizeChanged(this,lt.LeadEventArgs.Empty)}},_imageViewer_ActiveItemChanged:function(){this._syncActiveItemContainer(!0)},_automationObject_ActiveContainerChanged:function(){this._syncActiveItemContainer(!1)},_syncActiveItemContainer:function(a){if(!(null==this._automationObject||null==this._imageViewer)){var b=this._imageViewer.get_items().get_count(),
c=this._automationObject.get_containers().get_count();b&&b===c&&(b=this._imageViewer.get_items().indexOf(this._imageViewer.get_activeItem()),c=-1,null!=this._automationObject.get_activeContainer()&&(c=this._automationObject.get_containers().indexOf(this._automationObject.get_activeContainer())),b!==c&&(a?-1!==b&&this._automationObject.set_activeContainer(this._automationObject.get_containers().get_item(b)):-1!==c&&this._imageViewer.set_activeItem(this._imageViewer.get_items().get_item(c))))}},_getItemForCurrentContainer:function(){return null==
this._imageViewer?null:-1!==this._containerIndex?this._containerIndex<this._imageViewer.get_items().get_count()?this._imageViewer.get_items().get_item(this._containerIndex):null:this._imageViewer.get_activeItem()},get_automationTransform:function(){var a=this._getItemForCurrentContainer();return null!=a?this._imageViewer.getItemBounds(a,lt.Controls.ImageViewerItemPart.item).get_isEmpty()?(a=lt.LeadMatrix.get_identity(),a.set_offsetX(-1E5),a.set_offsetY(-1E5),a):this._imageViewer.getItemImageTransformWithDpi(a,
!1):lt.LeadMatrix.get_identity()},add_automationTransformChanged:function(a){this.__automationTransformChanged=ss.Delegate.combine(this.__automationTransformChanged,a)},remove_automationTransformChanged:function(a){this.__automationTransformChanged=ss.Delegate.remove(this.__automationTransformChanged,a)},__automationTransformChanged_handler_get:function(){null==this.__automationTransformChanged_handler&&(this.__automationTransformChanged_handler=ss.EventHandler.create(this,this.add_automationTransformChanged,
this.remove_automationTransformChanged));return this.__automationTransformChanged_handler},__automationTransformChanged:null,__automationTransformChanged_handler:null,_imageViewer_TransformChanged:function(){null!=this.__automationTransformChanged&&this.__automationTransformChanged(this,lt.LeadEventArgs.Empty)},get_automationUseDpi:function(){return null!=this._imageViewer&&this._imageViewer.get_useDpi()},add_automationUseDpiChanged:function(a){this.__automationUseDpiChanged=ss.Delegate.combine(this.__automationUseDpiChanged,
a)},remove_automationUseDpiChanged:function(a){this.__automationUseDpiChanged=ss.Delegate.remove(this.__automationUseDpiChanged,a)},__automationUseDpiChanged_handler_get:function(){null==this.__automationUseDpiChanged_handler&&(this.__automationUseDpiChanged_handler=ss.EventHandler.create(this,this.add_automationUseDpiChanged,this.remove_automationUseDpiChanged));return this.__automationUseDpiChanged_handler},__automationUseDpiChanged:null,__automationUseDpiChanged_handler:null,_imageViewer_PropertyChanged:function(a,
b){switch(b.get_propertyName()){case "UseDpi":null!=this.__automationUseDpiChanged&&this.__automationUseDpiChanged(this,lt.LeadEventArgs.Empty)}},get_automationXResolution:function(){var a=this._getItemForCurrentContainer();return null!=a?a.get_resolution().get_width():96},get_automationYResolution:function(){var a=this._getItemForCurrentContainer();return null!=a?a.get_resolution().get_height():96},automationInvalidate:function(a){null!=this._imageViewer&&this._imageViewer.invalidate(a)},_antiAlias:!1,
get_automationAntiAlias:function(){return this._antiAlias},set_automationAntiAlias:function(a){this._antiAlias=a;null!=this._imageViewer&&this._imageViewer.invalidate(lt.LeadRectD.get_empty());return a},_renderingEngine:null,get_renderingEngine:function(){return this._renderingEngine},set_renderingEngine:function(a){return this._renderingEngine=a},_imageViewer_PostRender:function(a,b){var c=Type.safeCast(this.get_renderingEngine(),lt.Annotations.Rendering.AnnHtml5RenderingEngine);if(null!=c){var d=
!1;null!=this._automationObject&&null!=this._automationObject.get_manager()&&(d=this._automationObject.get_manager().get_userMode()===lt.Annotations.Core.AnnUserMode.run);this.get_automationAntiAlias();if(null!=this._getContainersCallback){var f=this._getContainersCallback(),g=b.get_clipRectangle().clone();if(null!=f)for(var e=0;e<f.get_count();e++)if(e<this._imageViewer.get_items().get_count()&&!this._imageViewer.getItemBounds(this._imageViewer.get_items().get_item(e),lt.Controls.ImageViewerItemPart.item).get_isEmpty()){var h=
f.get_item(e),i=this._imageViewer.get_items().get_item(e),j=this._automationObject.getContainerInvalidRect(h,!0);(!j.get_isEmpty()&&j.intersectsWith(g)||!this._imageViewer.getItemViewBounds(i,lt.Controls.ImageViewerItemPart.item,!0).get_isEmpty())&&lt.Documents.UI.ImageViewerAutomationControl._renderContainer(b,c,h,d)}}else h=this._container,null!=h&&lt.Documents.UI.ImageViewerAutomationControl._renderContainer(b,c,h,d)}},_getContainersCallback:null,get_automationGetContainersCallback:function(){return this._getContainersCallback},
set_automationGetContainersCallback:function(a){return this._getContainersCallback=a},get_automationContainerIndex:function(){return this._containerIndex},set_automationContainerIndex:function(a){return this._containerIndex=a},_container:null,automationAttach:function(a){this._container=a},automationDetach:function(){this._container=null},_dataProvider:null,get_automationDataProvider:function(){return this._dataProvider},set_automationDataProvider:function(a){return this._dataProvider=a}};Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,
"imageViewer",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_imageViewer,set:lt.Documents.UI.ImageViewerAutomationControl.prototype.set_imageViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationScrollOffset",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationScrollOffset,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationObject",
{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationObject,set:lt.Documents.UI.ImageViewerAutomationControl.prototype.set_automationObject,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationPointerDown",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.__automationPointerDown_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationPointerMove",
{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.__automationPointerMove_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationPointerUp",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.__automationPointerUp_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationDoubleClick",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.__automationDoubleClick_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationDpiX",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationDpiX,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationDpiY",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationDpiY,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,
"automationEnabled",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationEnabled,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationEnabledChanged",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.__automationEnabledChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationGotFocus",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.__automationGotFocus_handler_get,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationLostFocus",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.__automationLostFocus_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationSizeChanged",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.__automationSizeChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,
"automationTransform",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationTransform,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationTransformChanged",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.__automationTransformChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationUseDpi",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationUseDpi,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationUseDpiChanged",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.__automationUseDpiChanged_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationXResolution",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationXResolution,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,
"automationYResolution",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationYResolution,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationAntiAlias",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationAntiAlias,set:lt.Documents.UI.ImageViewerAutomationControl.prototype.set_automationAntiAlias,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,
"renderingEngine",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_renderingEngine,set:lt.Documents.UI.ImageViewerAutomationControl.prototype.set_renderingEngine,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationGetContainersCallback",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationGetContainersCallback,set:lt.Documents.UI.ImageViewerAutomationControl.prototype.set_automationGetContainersCallback,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationContainerIndex",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationContainerIndex,set:lt.Documents.UI.ImageViewerAutomationControl.prototype.set_automationContainerIndex,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.ImageViewerAutomationControl.prototype,"automationDataProvider",{get:lt.Documents.UI.ImageViewerAutomationControl.prototype.get_automationDataProvider,
set:lt.Documents.UI.ImageViewerAutomationControl.prototype.set_automationDataProvider,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerBookmarks=function(a){this._documentViewer=a};lt.Documents.UI.DocumentViewerBookmarks.prototype={_destroy:function(a){a&&(this._stopWorking(),this._deleteControls())},_documentViewer:null,get_documentViewer:function(){return this._documentViewer},_init:function(a){this._createControls(a)},get_isLoading:function(){return null!=this._bookmarksWorker&&this._bookmarksWorker.get_isWorking()},
_bookmarksWorker:null,_startWorking:function(){this._stopWorking();if(this._documentViewer.get_hasDocument()){var a=this._documentViewer.get_document();if(a.isStructureSupported&&a.structure.isParsed)this._populateBookmarks(a.structure);else{var b=new lt.Documents.UI.DocumentViewerOperationEventArgs(21,null,null,null,0,!1);this._documentViewer.onOperation(b);b.get_abort()||(this._bookmarksWorker=new lt.Documents.UI._bookmarksWorker,this._bookmarksWorker.add_preProcessItem(ss.Delegate.create(this,
this._bookmarksWorker_PreProcessItem)),this._bookmarksWorker.add_postProcessItem(ss.Delegate.create(this,this._bookmarksWorker_PostProcessItem)),this._bookmarksWorker.add_completed(ss.Delegate.create(this,this._bookmarksWorker_Completed)),this._bookmarksWorker.start(a))}}},_stopWorking:function(){this._deleteWorker();this._clearBookmarks()},_deleteWorker:function(){null!=this._bookmarksWorker&&(this._bookmarksWorker.stop(),this._bookmarksWorker.remove_preProcessItem(ss.Delegate.create(this,this._bookmarksWorker_PreProcessItem)),
this._bookmarksWorker.remove_postProcessItem(ss.Delegate.create(this,this._bookmarksWorker_PostProcessItem)),this._bookmarksWorker.remove_completed(ss.Delegate.create(this,this._bookmarksWorker_Completed)),this._bookmarksWorker.dispose(),this._bookmarksWorker=null,this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(21,null,null,null,0,!0)))},_gotoBookmark:function(a){var b=new lt.Documents.UI.DocumentViewerOperationEventArgs(13,null,a,null,0,!1);this._documentViewer.onOperation(b);
b.get_abort()||(this._documentViewer.gotoBookmark(a),b=new lt.Documents.UI.DocumentViewerOperationEventArgs(13,null,a,null,0,!0),this._documentViewer.onOperation(b))},_prepareToSave:function(){},_bookmarksWorker_PreProcessItem:function(){},_bookmarksWorker_PostProcessItem:function(a,b){ss.Delegate.create(this,function(a,d){if(!(null==this._bookmarksWorker||this._bookmarksWorker.get_isCancelPending()||this._bookmarksWorker!==d.get__itemsWorker())){var b;null==d.get_error()?this._finishLoadingBookmarks(d.get_data1()):
(b=new lt.Documents.UI.DocumentViewerOperationEventArgs(21,d.get_error(),null,null,0,!0),this._documentViewer.onOperation(b))}})(this,b)},_bookmarksWorker_Completed:function(){},dispose:function(){this._destroy(!0)},_bookmarkList:null,_list:null,_treeView:null,get_treeView:function(){return this._treeView},_createControls:function(a){null!=a.get_bookmarksContainer()&&(this._bookmarkList=[],this._treeView=document.createElement("div"),this._list=document.createElement("ul"),this._treeView.appendChild(this._list),
this._treeView.style.width="100%",this._treeView.style.height="100%",this._list.addEventListener("click",ss.Delegate.create(this,this._element_OnClick),!1),a.get_bookmarksContainer().appendChild(this._treeView))},_deleteControls:function(){null!=this._treeView&&(null!=this._treeView.parentNode&&this._treeView.parentNode.removeChild(this._treeView),this._list.removeEventListener("click",ss.Delegate.create(this,this._element_OnClick),!1),this._treeView=this._list=null)},_populateBookmarks:function(a){if(null!=
this._treeView&&(this._clearBookmarks(),null!=a&&null!=a.bookmarks)){for(var b=Array(a.bookmarks.length),c=0;c<a.bookmarks.length;c++)b[c]=a.bookmarks[c];this._addBookmarks(b,this._list)}},_addBookmarkToDictionary:function(a){var b=this._bookmarkList.length;this._bookmarkList.add(a);return b},_addBookmarks:function(a,b){if(null!=a)for(var c=ss.IEnumerator.getEnumerator(a);c.moveNext();){var d=c.current,f=document.createElement("li");f.textContent=d.title;f.setAttribute("index",this._addBookmarkToDictionary(d));
b.appendChild(f);var g=f;0<d.children.length&&(g=document.createElement("ul"),f.appendChild(g));this._addBookmarks(d.children,g)}},_clearBookmarks:function(){if(null!=this._treeView){for(var a=this._list.childNodes.length-1;0<=a;a--)this._list.removeChild(this._list.childNodes[a]);this._bookmarkList.clear()}},_element_OnClick:function(a){this._gotoBookmark(this._bookmarkList[a.target.getAttribute("index")])},_finishLoadingBookmarks:function(a){var b=Type.safeCast(a,IDeferred);null!=b&&(a=ss.Delegate.create(this,
function(){var a;b.done(ss.Delegate.create(this,function(){null!=this._documentViewer.get_document()&&null!=this._documentViewer.get_document().structure&&this._documentViewer.get_document().structure.isParsed&&this._populateBookmarks(this._documentViewer.get_document().structure);a=new lt.Documents.UI.DocumentViewerOperationEventArgs(21,null,this._documentViewer.get_document().structure,null,0,!0);this._documentViewer.onOperation(a)}));b.fail(ss.Delegate.create(this,function(d){d=lt.Documents.ServiceError.parseError(d,
"error",Type.safeCast(d.statusText,String));a=new lt.Documents.UI.DocumentViewerOperationEventArgs(21,Error(d.isParseError?d.errorThrown:d.detail),null,null,0,!0);this._documentViewer.onOperation(a)}))}),lt.Documents.UI._invoker.beginInvoke0(this._documentViewer.get_view().get_imageViewer(),a))}};Object.defineProperty(lt.Documents.UI.DocumentViewerBookmarks.prototype,"documentViewer",{get:lt.Documents.UI.DocumentViewerBookmarks.prototype.get_documentViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerBookmarks.prototype,
"isLoading",{get:lt.Documents.UI.DocumentViewerBookmarks.prototype.get_isLoading,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerBookmarks.prototype,"treeView",{get:lt.Documents.UI.DocumentViewerBookmarks.prototype.get_treeView,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerCommand=function(){};lt.Documents.UI.DocumentViewerCommand._create=function(a,b,c,d){return lt.Documents.UI.DocumentViewerCommand._doCreate(a,b,c,null,d,!1,!1)};lt.Documents.UI.DocumentViewerCommand._createState=
function(a,b,c,d,f){return lt.Documents.UI.DocumentViewerCommand._doCreate(a,b,c,null,d,!0,f)};lt.Documents.UI.DocumentViewerCommand._createSlow=function(a,b,c,d,f){return lt.Documents.UI.DocumentViewerCommand._doCreate(a,b,c,d,f,!1,!1)};lt.Documents.UI.DocumentViewerCommand._doCreate=function(a,b,c,d,f,g,e){var h=new lt.Documents.UI.DocumentViewerCommand;h._name=a;h._canRunHandler=b;h._runHandler=c;h._isSlowHandler=d;h._tag=f;h._value=null;h._hasState=g;h._state=e;return h};lt.Documents.UI.DocumentViewerCommand.prototype=
{_name:null,get_name:function(){return this._name},set_name:function(a){return this._name=a},_canRunHandler:null,get_canRunHandler:function(){return this._canRunHandler},set_canRunHandler:function(a){return this._canRunHandler=a},_runHandler:null,get_runHandler:function(){return this._runHandler},set_runHandler:function(a){return this._runHandler=a},_isSlowHandler:null,get_isSlowHandler:function(){return this._isSlowHandler},set_isSlowHandler:function(a){return this._isSlowHandler=a},_tag:null,get_tag:function(){return this._tag},
set_tag:function(a){return this._tag=a},_value:null,get_value:function(){return this._value},set_value:function(a){return this._value=a},_hasState:!1,get_hasState:function(){return this._hasState},set_hasState:function(a){return this._hasState=a},_state:!1,get_state:function(){return this._state},set_state:function(a){return this._state=a},preRun:function(a,b){if(null==a)throw new lt.ArgumentNullException("documentViewer");var c=new lt.Documents.UI.DocumentViewerOperationEventArgs(5,null,this,b,0,
!1);a.onOperation(c);return!c.get_abort()},postRun:function(a,b){if(null==a)throw new lt.ArgumentNullException("documentViewer");var c=new lt.Documents.UI.DocumentViewerOperationEventArgs(5,null,this,b,0,!0);a.onOperation(c)}};Object.defineProperty(lt.Documents.UI.DocumentViewerCommand.prototype,"name",{get:lt.Documents.UI.DocumentViewerCommand.prototype.get_name,set:lt.Documents.UI.DocumentViewerCommand.prototype.set_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCommand.prototype,
"canRunHandler",{get:lt.Documents.UI.DocumentViewerCommand.prototype.get_canRunHandler,set:lt.Documents.UI.DocumentViewerCommand.prototype.set_canRunHandler,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCommand.prototype,"runHandler",{get:lt.Documents.UI.DocumentViewerCommand.prototype.get_runHandler,set:lt.Documents.UI.DocumentViewerCommand.prototype.set_runHandler,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCommand.prototype,
"isSlowHandler",{get:lt.Documents.UI.DocumentViewerCommand.prototype.get_isSlowHandler,set:lt.Documents.UI.DocumentViewerCommand.prototype.set_isSlowHandler,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCommand.prototype,"tag",{get:lt.Documents.UI.DocumentViewerCommand.prototype.get_tag,set:lt.Documents.UI.DocumentViewerCommand.prototype.set_tag,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCommand.prototype,"value",{get:lt.Documents.UI.DocumentViewerCommand.prototype.get_value,
set:lt.Documents.UI.DocumentViewerCommand.prototype.set_value,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCommand.prototype,"hasState",{get:lt.Documents.UI.DocumentViewerCommand.prototype.get_hasState,set:lt.Documents.UI.DocumentViewerCommand.prototype.set_hasState,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCommand.prototype,"state",{get:lt.Documents.UI.DocumentViewerCommand.prototype.get_state,set:lt.Documents.UI.DocumentViewerCommand.prototype.set_state,
enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerCommands=function(a){this._documentViewer=a};lt.Documents.UI.DocumentViewerCommands.prototype={_commands:null,get__commands:function(){return this._commands},getCommand:function(a){return this._commands[a]},_init:function(){this._commands={};lt.Documents.UI._commandHelper.initCommands(this._commands)},_destroy:function(){Object.clearKeys(this._commands);this._commands=null},_documentViewer:null,get_documentViewer:function(){return this._documentViewer},
canRun:function(a,b){var c=!1;if(Object.keyExists(this._commands,a)){var d=this._commands[a];null!=d.get_canRunHandler()&&(c=d.get_canRunHandler()(this._documentViewer,d,b))}return c},run:function(a,b){if(Object.keyExists(this._commands,a)){var c=this._commands[a];if(null!=c.get_runHandler()&&null!=c.get_canRunHandler()&&c.get_canRunHandler()(this._documentViewer,c,b))return c.get_runHandler()(this._documentViewer,c,b)}return null},isSlow:function(a,b){var c=!1;if(Object.keyExists(this._commands,
a)){var d=this._commands[a];null!=d.get_isSlowHandler()&&(c=d.get_isSlowHandler()(this._documentViewer,d,b))}return c}};Object.defineProperty(lt.Documents.UI.DocumentViewerCommands.prototype,"documentViewer",{get:lt.Documents.UI.DocumentViewerCommands.prototype.get_documentViewer,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerCreateOptions=function(){this._init()};lt.Documents.UI.DocumentViewerCreateOptions.prototype={_viewContainer:null,get_viewContainer:function(){return this._viewContainer},
set_viewContainer:function(a){return this._viewContainer=a},_thumbnailsContainer:null,get_thumbnailsContainer:function(){return this._thumbnailsContainer},set_thumbnailsContainer:function(a){return this._thumbnailsContainer=a},_bookmarksContainer:null,get_bookmarksContainer:function(){return this._bookmarksContainer},set_bookmarksContainer:function(a){return this._bookmarksContainer=a},_useAnnotations:!0,get_useAnnotations:function(){return this._useAnnotations},set_useAnnotations:function(a){return this._useAnnotations=
a},_init:function(){this._viewCreateOptions=new lt.Controls.ImageViewerCreateOptions(null);this._thumbnailsCreateOptions=new lt.Controls.ImageViewerCreateOptions(null);this._viewCreateOptions.set_useElements(!0);this._thumbnailsCreateOptions.set_useElements(!0);var a=new lt.Controls.ImageViewerElementsModeCreateOptions;a.set_classPrefix("lt-thumb");this._thumbnailsCreateOptions.set_elementsModeOptions(a)},_viewCreateOptions:null,get_viewCreateOptions:function(){return this._viewCreateOptions},_thumbnailsCreateOptions:null,
get_thumbnailsCreateOptions:function(){return this._thumbnailsCreateOptions}};Object.defineProperty(lt.Documents.UI.DocumentViewerCreateOptions.prototype,"viewContainer",{get:lt.Documents.UI.DocumentViewerCreateOptions.prototype.get_viewContainer,set:lt.Documents.UI.DocumentViewerCreateOptions.prototype.set_viewContainer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCreateOptions.prototype,"thumbnailsContainer",{get:lt.Documents.UI.DocumentViewerCreateOptions.prototype.get_thumbnailsContainer,
set:lt.Documents.UI.DocumentViewerCreateOptions.prototype.set_thumbnailsContainer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCreateOptions.prototype,"bookmarksContainer",{get:lt.Documents.UI.DocumentViewerCreateOptions.prototype.get_bookmarksContainer,set:lt.Documents.UI.DocumentViewerCreateOptions.prototype.set_bookmarksContainer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCreateOptions.prototype,"useAnnotations",{get:lt.Documents.UI.DocumentViewerCreateOptions.prototype.get_useAnnotations,
set:lt.Documents.UI.DocumentViewerCreateOptions.prototype.set_useAnnotations,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCreateOptions.prototype,"viewCreateOptions",{get:lt.Documents.UI.DocumentViewerCreateOptions.prototype.get_viewCreateOptions,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerCreateOptions.prototype,"thumbnailsCreateOptions",{get:lt.Documents.UI.DocumentViewerCreateOptions.prototype.get_thumbnailsCreateOptions,
enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerDiagnostics=function(a){this._documentViewer=a};lt.Documents.UI.DocumentViewerDiagnostics._hiliteBounds=function(a,b,c,d,f){if(!c.get_isEmpty()&&!(1>c.get_width()||1>c.get_height()))c=lt.Controls.PrimitivesHelper.getCornerPoints(lt.Controls.PrimitivesHelper.toLeadRectD(c)),d.get_isIdentity()||d.transformPoints(c),d=lt.Controls.PrimitivesHelper.getBoundingRect(c),lt.Documents.UI.DocumentViewerDiagnostics._drawAndFill(a,b,c),String.isNullOrEmpty(f)||
lt.Documents.UI.DocumentViewerDiagnostics._drawText(a,f,lt.LeadPointD.create(d.get_x(),d.get_y()))};lt.Documents.UI.DocumentViewerDiagnostics._drawAndFill=function(a,b,c){var d=lt.Documents.UI.DocumentViewerDiagnostics._fills[b],b=lt.Documents.UI.DocumentViewerDiagnostics._strokes[b];if(!(null==d&&null==b)){a.save();null!=d&&(a.fillStyle=d);null!=b&&(a.strokeStyle=b);a.beginPath();for(var f=c.length,g=0;g<f;g++)g?a.lineTo(c[g].get_x(),c[g].get_y()):a.moveTo(c[0].get_x(),c[0].get_y()),g===f-1&&a.lineTo(c[g].get_x(),
c[g].get_y());null!=d&&a.fill();null!=b&&a.stroke();a.restore()}};lt.Documents.UI.DocumentViewerDiagnostics._drawText=function(a,b,c){null==lt.Documents.UI.DocumentViewerDiagnostics._font||null==lt.Documents.UI.DocumentViewerDiagnostics._textColor||(a.save(),a.fillStyle=lt.Documents.UI.DocumentViewerDiagnostics._textColor,a.fillText(b,c.get_x(),c.get_y()),a.restore())};lt.Documents.UI.DocumentViewerDiagnostics.prototype={_documentViewer:null,get_documentViewer:function(){return this._documentViewer},
_showLinks:!1,get_showLinks:function(){return this._showLinks},set_showLinks:function(a){this._showLinks!==a&&(this._showLinks=a,this._update());return a},_showTextCharacters:!1,get_showTextCharacters:function(){return this._showTextCharacters},set_showTextCharacters:function(a){this._showTextCharacters!==a&&(this._showTextCharacters=a,this._update());return a},_update:function(){this._documentViewer.get_view().get_imageViewer().invalidate(lt.LeadRectD.get_empty())},_postRenderViewItem:function(a,
b){var c=this._documentViewer.get_document();if(!(null==c||!this.get_showLinks()&&!this.get_showTextCharacters())){var d=b.get_item();if(null!=d){var f=this._documentViewer.get_view().get_imageViewer(),g=f.get_items().indexOf(d)+1,d=f.getItemImageTransform(d);if(this.get_showLinks()&&(f=c.pages[g-1].getLinks(),null!=f))for(var e=ss.IEnumerator.getEnumerator(f);e.moveNext();)f=c.rectToPixels(e.current.bounds),lt.Documents.UI.DocumentViewerDiagnostics._hiliteBounds(b.get_context(),0,f,d,null);if(this.get_showTextCharacters()&&
(g=this._documentViewer.get_text()._doGetDocumentPageText(g,!1,null),null!=g))for(g=ss.IEnumerator.getEnumerator(g.characters);g.moveNext();)e=g.current,f=e.bounds,f=c.rectToPixels(f),e=lt.Documents.UI._documentViewerHelper.getDocumentCharacterCodeAsString(e),lt.Documents.UI.DocumentViewerDiagnostics._hiliteBounds(b.get_context(),0,f,d,e)}}}};Object.defineProperty(lt.Documents.UI.DocumentViewerDiagnostics.prototype,"documentViewer",{get:lt.Documents.UI.DocumentViewerDiagnostics.prototype.get_documentViewer,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerDiagnostics.prototype,"showLinks",{get:lt.Documents.UI.DocumentViewerDiagnostics.prototype.get_showLinks,set:lt.Documents.UI.DocumentViewerDiagnostics.prototype.set_showLinks,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerDiagnostics.prototype,"showTextCharacters",{get:lt.Documents.UI.DocumentViewerDiagnostics.prototype.get_showTextCharacters,set:lt.Documents.UI.DocumentViewerDiagnostics.prototype.set_showTextCharacters,
enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewer=function(a){if(null==a)throw new lt.ArgumentNullException("createOptions");if(null==a.get_viewContainer())throw new lt.InvalidOperationException("createOptions.ViewerContainer must not be null");this._commands=new lt.Documents.UI.DocumentViewerCommands(this);this._commands._init();this._text=new lt.Documents.UI.DocumentViewerText(this);this._view=new lt.Documents.UI.DocumentViewerView(this);this._view._init(a,Type.safeCast(this._commands.get__commands()["Layout.Vertical"].get_tag(),
lt.Controls.ImageViewerViewLayout));null!=a.get_thumbnailsContainer()&&(this._thumbnails=new lt.Documents.UI.DocumentViewerThumbnails(this),this._thumbnails._init(a));null!=a.get_bookmarksContainer()&&(this._bookmarks=new lt.Documents.UI.DocumentViewerBookmarks(this),this._bookmarks._init(a));a.get_useAnnotations()&&(this._annotations=new lt.Documents.UI.DocumentViewerAnnotations(this),this._annotations._init(a));this._diagnostics=new lt.Documents.UI.DocumentViewerDiagnostics(this);this._view._initInteractiveModes("Interactive.SelectText")};
lt.Documents.UI.DocumentViewer._disposeDocument=function(a){delete a};lt.Documents.UI.DocumentViewer.prototype={dispose:function(){this._destroy(!0)},_useAjaxImageLoading:!1,get_useAjaxImageLoading:function(){return this._useAjaxImageLoading},set_useAjaxImageLoading:function(a){return this._useAjaxImageLoading=a},_documentUseAjaxImageLoading:!1,get__documentUseAjaxImageLoading:function(){return this._documentUseAjaxImageLoading},_updateForNewDocument:function(){this._documentUseAjaxImageLoading=this._useAjaxImageLoading},
prepareToSave:function(){var a=$.Deferred(),b=a.promise();if(!this.get_hasDocument())return a.reject("No document"),b;null!=this._view&&this._view._prepareToSave();null!=this._thumbnails&&this._thumbnails._prepareToSave();null!=this._bookmarks&&this._bookmarks._prepareToSave();null!=this._text&&this._text._prepareToSave();null!=this._annotations?this._annotations._prepareToSave(a):a.resolve();return a},_destroy:function(a){if(a&&(this.setDocument(null),null!=this._thumbnails&&(this._thumbnails.dispose(),
this._thumbnails=null),null!=this._view&&(this._view.dispose(),this._view=null),null!=this._bookmarks&&(this._bookmarks.dispose(),this._bookmarks=null),null!=this._annotations&&(this._annotations.dispose(),this._annotations=null),null!=this._commands&&(this._commands._destroy(),this._commands=null),null!=this._text&&(this._text.dispose(),this._text=null),null!=this._diagnostics&&(this._diagnostics=null),null!=this._document&&this._autoDisposeDocument))lt.Documents.UI.DocumentViewer._disposeDocument(this._document),
this._document=null},_document:null,get_document:function(){return this._document},_autoDisposeDocument:!0,get_autoDisposeDocument:function(){return this._autoDisposeDocument},set_autoDisposeDocument:function(a){return this._autoDisposeDocument=a},get_hasDocument:function(){return null!=this._document},get_pageCount:function(){return null!=this._document?this._document.pages.length:0},_view:null,get_view:function(){return this._view},_thumbnails:null,get_thumbnails:function(){return this._thumbnails},
_bookmarks:null,get_bookmarks:function(){return this._bookmarks},_annotations:null,get_annotations:function(){return this._annotations},_commands:null,get_commands:function(){return this._commands},_text:null,get_text:function(){return this._text},_userName:null,get_userName:function(){return this._userName},set_userName:function(a){return this._userName=a},_diagnostics:null,get_diagnostics:function(){return this._diagnostics},setDocument:function(a){var b=this._document===a,c=new lt.Documents.UI.DocumentViewerOperationEventArgs(0,
null,a,null,0,!1);this.onOperation(c);c.get_abort()||(null!=this._thumbnails&&this._thumbnails._stopWorking(!1),null!=this._bookmarks&&this._bookmarks._stopWorking(),null!=this._annotations&&this._annotations._stopWorking(),this._view._stopWorking(),this._text._stopWorking(),null!=this._document&&this._autoDisposeDocument&&!b&&lt.Documents.UI.DocumentViewer._disposeDocument(this._document),this._document=a,this._updateForNewDocument(),null!=this._thumbnails&&this._thumbnails._startWorking(),null!=
this._bookmarks&&this._bookmarks._startWorking(),null!=this._annotations&&this._annotations._startWorking(),this._view._startWorking(),this._text._startWorking(),c=new lt.Documents.UI.DocumentViewerOperationEventArgs(0,null,a,null,0,!0),this.onOperation(c))},add_operation:function(a){this.__operation=ss.Delegate.combine(this.__operation,a)},remove_operation:function(a){this.__operation=ss.Delegate.remove(this.__operation,a)},__operation_handler_get:function(){null==this.__operation_handler&&(this.__operation_handler=
ss.EventHandler.create(this,this.add_operation,this.remove_operation));return this.__operation_handler},__operation:null,__operation_handler:null,onOperation:function(a){null!=this.__operation&&this.__operation(this,a);switch(a.get_operation()){case 10:a.get_isPostOperation()&&null!=this._annotations&&this.get_text().hasSelectedText(0)&&this._annotations._deselect();break;case 9:a.get_isPostOperation()&&this.get_text().get_renderSelection()&&(a=a.get_pageNumber(),this._view.get_imageViewer().invalidateItemByIndex(a-
1))}},get_currentPageNumber:function(){if(null==this._view)return 0;var a=0,b=this._view.get_imageViewer(),c=b.get_activeItem();null!=c&&(a=b.get_items().indexOf(c)+1);return a},gotoPage:function(a){this._doGotoPage(a,!0,!0)},_doGotoPage:function(a,b,c){if(null!=this._document){this._checkPageNumber(a,!1,"pageNumber");if(c){var d=new lt.Documents.UI.DocumentViewerOperationEventArgs(6,null,null,null,a,!1);this.onOperation(d);if(d.get_abort())return}d=this._view.get_imageViewer();d.disableTransitions();
var f=a-1,g=d.get_items().get_item(f);g!==d.get_activeItem()&&d.set_activeItem(g);b&&d.gotoItem(g);d.enableTransitions();null!=this._thumbnails&&(d=this._thumbnails.get_imageViewer(),g=d.get_items().get_item(f),d.get_items().select([g]),d.ensureItemVisible(g));b&&null!=this._annotations&&null!=this._annotations.get_automation()&&(d=this._annotations.get_automation().get_containers().get_item(f),d!==this._annotations.get_automation().get_activeContainer()&&this._annotations.get_automation().set_activeContainer(d));
b&&null!==this.get_text()&&this.get_text().clearLastFindText();c&&(d=new lt.Documents.UI.DocumentViewerOperationEventArgs(6,null,null,null,a,!0),this.onOperation(d))}},gotoBookmark:function(a){if(null==a)throw new lt.ArgumentNullException("bookmark");null!=this._document&&this.runLinkTarget(a.target)},runLinkTarget:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"linkTarget");this._checkPageNumber(a.pageNumber,!0,"PageNumber");a.pageNumber&&a.pageNumber!==this.get_currentPageNumber()&&this.gotoPage(a.pageNumber);
this._view.runLinkTarget(a)},_checkPageNumber:function(a,b,c){if(!this.get_hasDocument())throw new lt.InvalidOperationException("This operation is not allowed without a valid document");var d=this.get_pageCount();if(b){if(a&&(1>a||a>d))throw new lt.ArgumentOutOfRangeException(c,a,"Must be a valid page number in the document or 0");}else if(1>a||a>d)throw new lt.ArgumentOutOfRangeException(c,a,"Must be a valid page number in the document");},_postRenderViewItem:function(a,b){null!=this._document&&
(null!=this._text&&this._text._postRenderViewItem(a,b),null!=this._diagnostics&&this._diagnostics._postRenderViewItem(a,b))}};Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"useAjaxImageLoading",{get:lt.Documents.UI.DocumentViewer.prototype.get_useAjaxImageLoading,set:lt.Documents.UI.DocumentViewer.prototype.set_useAjaxImageLoading,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"document",{get:lt.Documents.UI.DocumentViewer.prototype.get_document,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"autoDisposeDocument",{get:lt.Documents.UI.DocumentViewer.prototype.get_autoDisposeDocument,set:lt.Documents.UI.DocumentViewer.prototype.set_autoDisposeDocument,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"hasDocument",{get:lt.Documents.UI.DocumentViewer.prototype.get_hasDocument,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,
"pageCount",{get:lt.Documents.UI.DocumentViewer.prototype.get_pageCount,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"view",{get:lt.Documents.UI.DocumentViewer.prototype.get_view,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"thumbnails",{get:lt.Documents.UI.DocumentViewer.prototype.get_thumbnails,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"bookmarks",
{get:lt.Documents.UI.DocumentViewer.prototype.get_bookmarks,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"annotations",{get:lt.Documents.UI.DocumentViewer.prototype.get_annotations,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"commands",{get:lt.Documents.UI.DocumentViewer.prototype.get_commands,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"text",{get:lt.Documents.UI.DocumentViewer.prototype.get_text,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"userName",{get:lt.Documents.UI.DocumentViewer.prototype.get_userName,set:lt.Documents.UI.DocumentViewer.prototype.set_userName,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"diagnostics",{get:lt.Documents.UI.DocumentViewer.prototype.get_diagnostics,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"operation",
{get:lt.Documents.UI.DocumentViewer.prototype.__operation_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewer.prototype,"currentPageNumber",{get:lt.Documents.UI.DocumentViewer.prototype.get_currentPageNumber,enumerable:!0,configurable:!0});lt.Documents.UI.AnnotationsInteractiveMode=function(){lt.Documents.UI.AnnotationsInteractiveMode.initializeBase(this);this.set_mouseButtons(lt.Controls.MouseButtons.left|lt.Controls.MouseButtons.right);this.set_autoItemMode(lt.Controls.ImageViewerAutoItemMode.autoSet);
this.set_itemPart(lt.Controls.ImageViewerItemPart.image);this.set_workOnBounds(!1)};lt.Documents.UI.AnnotationsInteractiveMode._convertPointerEventArgs$1=function(a,b){var c=lt.LeadPointD.create(a.get_position().get_x(),a.get_position().get_y()),d=lt.Annotations.Core.AnnMouseButton.none;if(b)d=lt.Annotations.Core.AnnMouseButton.left;else if(a.get_mouseButton()===lt.Controls.MouseButtons.left&&(d=lt.Annotations.Core.AnnMouseButton.left),a.get_mouseButton()===lt.Controls.MouseButtons.right)d=lt.Annotations.Core.AnnMouseButton.right;
c=lt.Annotations.Core.AnnPointerEventArgs.create(d,c);c.set_isHandled(a.get_isHandled());return c};lt.Documents.UI.AnnotationsInteractiveMode.prototype={get_id:function(){return 100},_automationControl$1:null,get_automationControl:function(){return this._automationControl$1},set_automationControl:function(a){return this._automationControl$1=a},get_name:function(){return"Annotations"},canStartWork:function(a){return lt.Documents.UI.AnnotationsInteractiveMode.callBaseMethod(this,"canStartWork",[a])&&
null!=this.get_automationControl()},start:function(a){lt.Documents.UI.AnnotationsInteractiveMode.callBaseMethod(this,"start",[a]);a=lt.Documents.UI.AnnotationsInteractiveMode.callBaseMethod(this,"get_interactiveService");a.add_dragStarted(ss.Delegate.create(this,this._interactiveService_DragStarted$1));a.add_dragDelta(ss.Delegate.create(this,this._interactiveService_DragDelta$1));a.add_dragCompleted(ss.Delegate.create(this,this._interactiveService_DragCompleted$1));a.add_tap(ss.Delegate.create(this,
this._interactiveService_Tap$1));a.add_doubleTap(ss.Delegate.create(this,this._interactiveService_DoubleTap$1));a.add_move(ss.Delegate.create(this,this._interactiveService_Move$1))},stop:function(a){if(this.get_isStarted()){var b=lt.Documents.UI.AnnotationsInteractiveMode.callBaseMethod(this,"get_interactiveService");b.remove_dragStarted(ss.Delegate.create(this,this._interactiveService_DragStarted$1));b.remove_dragDelta(ss.Delegate.create(this,this._interactiveService_DragDelta$1));b.remove_dragCompleted(ss.Delegate.create(this,
this._interactiveService_DragCompleted$1));b.remove_tap(ss.Delegate.create(this,this._interactiveService_Tap$1));b.remove_doubleTap(ss.Delegate.create(this,this._interactiveService_DoubleTap$1));b.remove_move(ss.Delegate.create(this,this._interactiveService_Move$1));lt.Documents.UI.AnnotationsInteractiveMode.callBaseMethod(this,"stop",[a])}},_interactiveService_DragStarted$1:function(a,b){if(this.canStartWork(b)&&!b.get_isMouseWheel()){this.onWorkStarted(lt.LeadEventArgs.Empty);var c=lt.Documents.UI.AnnotationsInteractiveMode._convertPointerEventArgs$1(b,
!1);if(!b.get_isHandled()&&(this.get_automationControl().onAutomationPointerDown(c),b.set_isHandled(c.get_isHandled()),!b.get_isHandled()))this.onWorkCompleted(lt.LeadEventArgs.Empty)}},_interactiveService_DragDelta$1:function(a,b){if(this.get_isWorking()){var c=lt.Documents.UI.AnnotationsInteractiveMode._convertPointerEventArgs$1(b,!1);b.get_isHandled()||(this.get_automationControl().onAutomationPointerMove(c),b.set_isHandled(c.get_isHandled()))}},_interactiveService_DragCompleted$1:function(a,b){if(this.get_isWorking()){var c=
lt.Documents.UI.AnnotationsInteractiveMode._convertPointerEventArgs$1(b,!1);b.get_isHandled()||(this.get_automationControl().onAutomationPointerUp(c),b.set_isHandled(c.get_isHandled()),this.onWorkCompleted(lt.LeadEventArgs.Empty))}},_interactiveService_Tap$1:function(a,b){if(!this.get_isWorking()&&this.canStartWork(b)){var c=lt.Documents.UI.AnnotationsInteractiveMode._convertPointerEventArgs$1(b,!1);b.get_isHandled()||(this.get_automationControl().onAutomationPointerUp(c),b.set_isHandled(c.get_isHandled()))}},
_interactiveService_DoubleTap$1:function(a,b){if(this.canStartWork(b)){var c=lt.Documents.UI.AnnotationsInteractiveMode._convertPointerEventArgs$1(b,!0);b.get_isHandled()||(this.onWorkStarted(lt.LeadEventArgs.Empty),this.get_automationControl().onAutomationDoubleClick(c),b.set_isHandled(c.get_isHandled()),this.onWorkCompleted(lt.LeadEventArgs.Empty))}},_interactiveService_Move$1:function(a,b){if(null!=this.get_automationControl()){var c=lt.Documents.UI.AnnotationsInteractiveMode._convertPointerEventArgs$1(b,
!1);this.get_automationControl().onAutomationPointerMove(c)}}};Object.defineProperty(lt.Documents.UI.AnnotationsInteractiveMode.prototype,"id",{get:lt.Documents.UI.AnnotationsInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.AnnotationsInteractiveMode.prototype,"automationControl",{get:lt.Documents.UI.AnnotationsInteractiveMode.prototype.get_automationControl,set:lt.Documents.UI.AnnotationsInteractiveMode.prototype.set_automationControl,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Documents.UI.AnnotationsInteractiveMode.prototype,"name",{get:lt.Documents.UI.AnnotationsInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerPageLinksInteractiveMode=function(a){this._runLinkKeyModifier$1=lt.Controls.Keys.none;this._lastMovePosition$1=lt.LeadPointD.get_empty();this._lastLink$1=new lt.Documents.DocumentLink;lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.initializeBase(this);this._documentViewer$1=
a;this.set_autoItemMode(lt.Controls.ImageViewerAutoItemMode.autoSet);this.set_itemPart(lt.Controls.ImageViewerItemPart.image);this.set_workOnBounds(!0);this.set_isDragMouseWheelEnabled(!1)};lt.Documents.UI.DocumentViewerPageLinksInteractiveMode._checkKeyModifier$1=function(a,b,c){return!a.get_supportsMouse()?!0:c!==lt.Controls.Keys.none?lt.Controls.InteractiveService.checkKeyModifier(b.get_nativeEvent(),c):lt.Controls.InteractiveService.checkKeyModifier(b.get_nativeEvent(),lt.Controls.Keys.alt)||
lt.Controls.InteractiveService.checkKeyModifier(b.get_nativeEvent(),lt.Controls.Keys.control)||lt.Controls.InteractiveService.checkKeyModifier(b.get_nativeEvent(),lt.Controls.Keys.shift)?!1:!0};lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.prototype={_documentViewer$1:null,get_documentViewer:function(){return this._documentViewer$1},get_name:function(){return"PageLinks"},get_id:function(){return 101},get_runLinkKeyModifier:function(){return this._runLinkKeyModifier$1},set_runLinkKeyModifier:function(a){switch(a){case lt.Controls.Keys.none:case lt.Controls.Keys.alt:case lt.Controls.Keys.shift:case lt.Controls.Keys.control:this._runLinkKeyModifier$1=
a;break;default:throw new lt.ArgumentException("Invalid value","RunLinkKeyModifier");}return a},start:function(a){lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.callBaseMethod(this,"start",[a]);a=lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.callBaseMethod(this,"get_interactiveService");this._isDragging$1=this._canCheckLinks$1=!1;a.get_supportsMouse()&&a.add_move(ss.Delegate.create(this,this._service_Move$1));a.add_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));
a.add_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1));a.add_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1));this._lastMovePosition$1=lt.LeadPointD.get_empty();this._lastLink$1=new lt.Documents.DocumentLink;this._lastLink$1.bounds=lt.LeadRectD.get_empty()},stop:function(a){if(this.get_isStarted()){var b=lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.callBaseMethod(this,"get_interactiveService");b.get_supportsMouse()&&b.remove_move(ss.Delegate.create(this,
this._service_Move$1));b.remove_dragStarted(ss.Delegate.create(this,this._service_DragStarted$1));b.remove_dragDelta(ss.Delegate.create(this,this._service_DragDelta$1));b.remove_dragCompleted(ss.Delegate.create(this,this._service_DragCompleted$1));lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.callBaseMethod(this,"stop",[a])}},canStartWork:function(a){return lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.callBaseMethod(this,"canStartWork",[a])&&null!=this._documentViewer$1&&this._documentViewer$1.get_hasDocument()},
_service_Move$1:function(a,b){if(this.get_isEnabled()&&!lt.LeadPointD.equals(b.get_position(),this._lastMovePosition$1)&&(this._lastMovePosition$1=b.get_position(),!(null==this._documentViewer$1||!this._documentViewer$1.get_hasDocument()||this._isDragging$1&&!this._canCheckLinks$1))){var c=!1,d=!1,f=0,g=this.get_imageViewer(),e=g.hitTestItem(b.get_position());if(null!=e){var h=this._hitTestLink$1(e,b.get_position());if(c=!h.bounds.get_isEmpty()){if(this._lastLink$1.bounds.get_isEmpty()||!lt.LeadRectD.equals(this._lastLink$1.bounds,
h.bounds))f=g.get_items().indexOf(e)+1,this._lastLink$1=h,d=!0}else this._lastLink$1.bounds.get_isEmpty()||(f=g.get_items().indexOf(e)+1,this._lastLink$1=new lt.Documents.DocumentLink,this._lastLink$1.bounds=lt.LeadRectD.get_empty(),d=!0)}this.get_hitTestState()!==c&&this.set_hitTestState(c);if(d&&(c=null,this._lastLink$1.bounds.get_isEmpty()||(c=this._lastLink$1),d=new lt.Documents.UI.DocumentViewerOperationEventArgs(22,null,c,b,f,!1),this._documentViewer$1.onOperation(d),!d.get_abort()))d=new lt.Documents.UI.DocumentViewerOperationEventArgs(22,
null,c,b,f,!0),this._documentViewer$1.onOperation(d)}},_canCheckLinks$1:!1,_isDragging$1:!1,_service_DragStarted$1:function(a,b){this._canCheckLinks$1=!b.get_isHandled();this._isDragging$1=!0},_service_DragDelta$1:function(a,b){if(this.canStartWork(b)&&lt.Documents.UI.DocumentViewerPageLinksInteractiveMode._checkKeyModifier$1(this.get_interactiveService(),b,this.get_runLinkKeyModifier())&&null!=this._documentViewer$1&&this._documentViewer$1.get_hasDocument()&&this._canCheckLinks$1){var c=Math.abs(b.get_position().get_x()-
b.get_origin().get_x()),d=Math.abs(b.get_position().get_y()-b.get_origin().get_y());this._canCheckLinks$1=2>c&&2>d}},_service_DragCompleted$1:function(a,b){this._isDragging$1=!1;if(this.canStartWork(b)&&lt.Documents.UI.DocumentViewerPageLinksInteractiveMode._checkKeyModifier$1(this.get_interactiveService(),b,this.get_runLinkKeyModifier())&&null!=this._documentViewer$1&&this._documentViewer$1.get_hasDocument()&&this._canCheckLinks$1){var c=this.get_item();if(null!=c&&(c=this._hitTestLink$1(c,b.get_position()),
!c.bounds.get_isEmpty())){var d=new lt.Documents.UI.DocumentViewerOperationEventArgs(14,null,c,b,0,!1);this._documentViewer$1.onOperation(d);d.get_abort()||(c.linkType===lt.Documents.DocumentLinkType.targetPage&&this._documentViewer$1.runLinkTarget(c.target),d=new lt.Documents.UI.DocumentViewerOperationEventArgs(14,null,c,b,0,!0),this._documentViewer$1.onOperation(d),b.set_isHandled(!0),this.onWorkStarted(lt.LeadEventArgs.Empty),this.onWorkCompleted(lt.LeadEventArgs.Empty))}}},_hitTestLink$1:function(a,
b){var c=new lt.Documents.DocumentLink;c.bounds=lt.LeadRectD.get_empty();var d=this.get_imageViewer(),f=d.get_items().indexOf(a)+1,g=this._documentViewer$1.get_document(),e=g.pages[f-1].getLinks();if(null==e||!e.length)return c;f=lt.Controls.PrimitivesHelper.toLeadPointD(b);f=d.convertPoint(a,lt.Controls.ImageViewerCoordinateType.control,lt.Controls.ImageViewerCoordinateType.image,f);f=g.pointToDocument(lt.Controls.PrimitivesHelper.toLeadPoint(f));for(d=ss.IEnumerator.getEnumerator(e);d.moveNext();)if(g=
d.current,g.bounds.containsPoint(f))return g;return c}};Object.defineProperty(lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.prototype,"documentViewer",{get:lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.prototype.get_documentViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.prototype,"name",{get:lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.prototype,
"id",{get:lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.prototype,"runLinkKeyModifier",{get:lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.prototype.get_runLinkKeyModifier,set:lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.prototype.set_runLinkKeyModifier,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerSelectTextInteractiveMode=function(){lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.initializeBase(this);
this.set_autoItemMode(lt.Controls.ImageViewerAutoItemMode.autoSet);this.set_itemPart(lt.Controls.ImageViewerItemPart.image);this.set_workOnBounds(!0);this.set_isDragMouseWheelEnabled(!1);this._init$2()};lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.prototype={_documentViewer$2:null,get_documentViewer:function(){return this._documentViewer$2},set_documentViewer:function(a){return this._documentViewer$2=a},get_shape:function(){return lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.callBaseMethod(this,
"get_shape")},set_shape:function(a){if(a!==lt.Controls.ImageViewerRubberBandShape.rectangle)throw new lt.InvalidOperationException("Only rectangle Shape is supported by this interactive mode");lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.callBaseMethod(this,"set_shape",[a]);return a},get_name:function(){return"SelectText"},get_id:function(){return 102},start:function(a){lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.callBaseMethod(this,"start",[a]);this.get_isStarted()&&this.get_interactiveService().add_doubleTap(ss.Delegate.create(this,
this._interactiveService_DoubleTap$2))},stop:function(a){this.get_isStarted()&&this.get_interactiveService().remove_doubleTap(ss.Delegate.create(this,this._interactiveService_DoubleTap$2));lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.callBaseMethod(this,"stop",[a])},_interactiveService_DoubleTap$2:function(a,b){if(!(null==this._documentViewer$2||null==this.get_item())){var c=this.get_imageViewer().get_items().indexOf(this.get_item())+1,d=lt.LeadPointD.create(b.get_position().get_x()+1,
b.get_position().get_y()+1);this._documentViewer$2.get_text()._trySelect(c,lt.Controls.PrimitivesHelper.toLeadPointD(b.get_position()),lt.Controls.PrimitivesHelper.toLeadPointD(d),4,b)}},onRubberBandStarted:function(a){lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.callBaseMethod(this,"onRubberBandStarted",[a]);null==this._documentViewer$2||null==this.get_item()||(a=this.get_imageViewer().get_items().indexOf(this.get_item())+1,this._documentViewer$2.get_text().hasDocumentPageText(a)||this._documentViewer$2.get_text().getDocumentPageText(a))},
onRubberBandDelta:function(a){lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.callBaseMethod(this,"onRubberBandDelta",[a]);if(!(null==this._documentViewer$2||null==this.get_item())){var b=this.get_imageViewer().get_items().indexOf(this.get_item())+1;this._documentViewer$2.get_text()._trySelect(b,lt.Controls.PrimitivesHelper.toLeadPointD(a.get_points()[0]),lt.Controls.PrimitivesHelper.toLeadPointD(a.get_points()[1]),3,a.get_interactiveEventArgs())}},onRubberBandCompleted:function(a){lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.callBaseMethod(this,
"onRubberBandCompleted",[a]);if(!(null==this._documentViewer$2||null==this.get_item())){var b=this.get_imageViewer().get_items().indexOf(this.get_item())+1;a.get_isCanceled()?this._documentViewer$2.get_text().clearSelection(b):this._documentViewer$2.get_text()._trySelect(b,lt.Controls.PrimitivesHelper.toLeadPointD(a.get_points()[0]),lt.Controls.PrimitivesHelper.toLeadPointD(a.get_points()[1]),4,a.get_interactiveEventArgs())}},_init$2:function(){this.set_borderThickness(0)}};Object.defineProperty(lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.prototype,
"documentViewer",{get:lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.prototype.get_documentViewer,set:lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.prototype.set_documentViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.prototype,"shape",{get:lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.prototype.get_shape,set:lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.prototype.set_shape,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.prototype,"name",{get:lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.prototype.get_name,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.prototype,"id",{get:lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.prototype.get_id,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerOperationEventArgs=function(a,b,c,d,f,g){lt.Documents.UI.DocumentViewerOperationEventArgs.initializeBase(this);
this._operation$1=a;this._data1$1=c;this._data2$1=d;this._pageNumber$1=f;this._isPostOperation$1=g;this._abort$1=!1;this._error$1=b};lt.Documents.UI.DocumentViewerOperationEventArgs.prototype={_operation$1:0,get_operation:function(){return this._operation$1},_error$1:null,get_error:function(){return this._error$1},_data1$1:null,get_data1:function(){return this._data1$1},_data2$1:null,get_data2:function(){return this._data2$1},_pageNumber$1:0,get_pageNumber:function(){return this._pageNumber$1},_isPostOperation$1:!1,
get_isPostOperation:function(){return this._isPostOperation$1},_abort$1:!1,get_abort:function(){return this._abort$1},set_abort:function(a){return this._abort$1=a}};Object.defineProperty(lt.Documents.UI.DocumentViewerOperationEventArgs.prototype,"operation",{get:lt.Documents.UI.DocumentViewerOperationEventArgs.prototype.get_operation,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerOperationEventArgs.prototype,"error",{get:lt.Documents.UI.DocumentViewerOperationEventArgs.prototype.get_error,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerOperationEventArgs.prototype,"data1",{get:lt.Documents.UI.DocumentViewerOperationEventArgs.prototype.get_data1,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerOperationEventArgs.prototype,"data2",{get:lt.Documents.UI.DocumentViewerOperationEventArgs.prototype.get_data2,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerOperationEventArgs.prototype,
"pageNumber",{get:lt.Documents.UI.DocumentViewerOperationEventArgs.prototype.get_pageNumber,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerOperationEventArgs.prototype,"isPostOperation",{get:lt.Documents.UI.DocumentViewerOperationEventArgs.prototype.get_isPostOperation,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerOperationEventArgs.prototype,"abort",{get:lt.Documents.UI.DocumentViewerOperationEventArgs.prototype.get_abort,
set:lt.Documents.UI.DocumentViewerOperationEventArgs.prototype.set_abort,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerFindText=function(){};lt.Documents.UI.DocumentViewerFindText.prototype={clone:function(){var a=new lt.Documents.UI.DocumentViewerFindText;a._pageNumber=this._pageNumber;a._text=this._text;a._matchCase=this._matchCase;a._wholeWordsOnly=this._wholeWordsOnly;a._gotoNextPage=this._gotoNextPage;a._recursive=this._recursive;a._autoSelect=this._autoSelect;a._autoEnsureVisible=
this._autoEnsureVisible;a._result=null!=this._result?this._result.clone():null;return a},_pageNumber:1,get_pageNumber:function(){return this._pageNumber},set_pageNumber:function(a){this._pageNumber=a;this._clearResults();return a},_found:function(a,b){this._pageNumber=a;this._result=null!=b?b.clone():null},_text:null,get_text:function(){return this._text},set_text:function(a){this._text=a;this._clearResults();return a},_matchCase:!1,get_matchCase:function(){return this._matchCase},set_matchCase:function(a){return this._matchCase=
a},_wholeWordsOnly:!1,get_wholeWordsOnly:function(){return this._wholeWordsOnly},set_wholeWordsOnly:function(a){return this._wholeWordsOnly=a},_gotoNextPage:!0,get_gotoNextPage:function(){return this._gotoNextPage},set_gotoNextPage:function(a){return this._gotoNextPage=a},_recursive:!1,get_recursive:function(){return this._recursive},set_recursive:function(a){return this._recursive=a},_autoSelect:!0,get_autoSelect:function(){return this._autoSelect},set_autoSelect:function(a){return this._autoSelect=
a},_autoEnsureVisible:!0,get_autoEnsureVisible:function(){return this._autoEnsureVisible},set_autoEnsureVisible:function(a){return this._autoEnsureVisible=a},_clearResults:function(){},_result:null,get__result:function(){return this._result},_find:function(a,b,c){if(String.isNullOrEmpty(this._text)||null==a||null==a.text||null==a.textMap)return!1;var d=this._text,f=d.length,g=a.text;this._matchCase||(g=null!=g?g.toLowerCase():null,d=d.toLowerCase());var e=-1,h=c.startIndex;b?e=g.indexOf(d,h):0<h-
f-1&&(e=g.remove(h-f-1).lastIndexOf(d));if(-1===e)return!1;h=e;d=b=-1;g=h+f-1;for(e=h;e<=g;e++){var i=a.textMap[e];0<=i&&(-1===b&&(b=i),d=i)}if(-1===b||this._wholeWordsOnly&&(a=a.characters,b&&!a[b-1].isEndOfWord||!a[d].isEndOfWord))return!1;c.startIndex=h+f;c.firstCharacterIndex=b;c.lastCharacterIndex=d;return!0}};Object.defineProperty(lt.Documents.UI.DocumentViewerFindText.prototype,"pageNumber",{get:lt.Documents.UI.DocumentViewerFindText.prototype.get_pageNumber,set:lt.Documents.UI.DocumentViewerFindText.prototype.set_pageNumber,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerFindText.prototype,"text",{get:lt.Documents.UI.DocumentViewerFindText.prototype.get_text,set:lt.Documents.UI.DocumentViewerFindText.prototype.set_text,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerFindText.prototype,"matchCase",{get:lt.Documents.UI.DocumentViewerFindText.prototype.get_matchCase,set:lt.Documents.UI.DocumentViewerFindText.prototype.set_matchCase,enumerable:!0,configurable:!0});
Object.defineProperty(lt.Documents.UI.DocumentViewerFindText.prototype,"wholeWordsOnly",{get:lt.Documents.UI.DocumentViewerFindText.prototype.get_wholeWordsOnly,set:lt.Documents.UI.DocumentViewerFindText.prototype.set_wholeWordsOnly,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerFindText.prototype,"gotoNextPage",{get:lt.Documents.UI.DocumentViewerFindText.prototype.get_gotoNextPage,set:lt.Documents.UI.DocumentViewerFindText.prototype.set_gotoNextPage,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerFindText.prototype,"recursive",{get:lt.Documents.UI.DocumentViewerFindText.prototype.get_recursive,set:lt.Documents.UI.DocumentViewerFindText.prototype.set_recursive,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerFindText.prototype,"autoSelect",{get:lt.Documents.UI.DocumentViewerFindText.prototype.get_autoSelect,set:lt.Documents.UI.DocumentViewerFindText.prototype.set_autoSelect,enumerable:!0,
configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerFindText.prototype,"autoEnsureVisible",{get:lt.Documents.UI.DocumentViewerFindText.prototype.get_autoEnsureVisible,set:lt.Documents.UI.DocumentViewerFindText.prototype.set_autoEnsureVisible,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerText=function(a){this._lineKeyModifier=lt.Controls.Keys.none;this._wordKeyModifier=lt.Controls.Keys.alt;this._characterKeyModifier=lt.Controls.Keys.control;this._documentViewer=a};
lt.Documents.UI.DocumentViewerText._removeLastEndOfLine=function(a){if(String.isNullOrEmpty(a))return a;var b=a.length;2<=b&&"\r"===a[b-2]&&"\n"===a[b-1]&&(a=a.substring(0,b-2));return a};lt.Documents.UI.DocumentViewerText._endsWithEndOfLine=function(a){if(String.isNullOrEmpty(a))return!1;var b=a.length;return 2<=b&&"\r"===a[b-2]&&"\n"===a[b-1]};lt.Documents.UI.DocumentViewerText.get_selectedFill=function(){return lt.Documents.UI.DocumentViewerText._selectedFill};lt.Documents.UI.DocumentViewerText.set_selectedFill=
function(a){return lt.Documents.UI.DocumentViewerText._selectedFill=a};lt.Documents.UI.DocumentViewerText.get__canRenderText=function(){return null!=lt.Documents.UI.DocumentViewerText.get_selectedFill()};lt.Documents.UI.DocumentViewerText._nativeCopy=function(){};lt.Documents.UI.DocumentViewerText._checkKeyModifier=function(a,b){return null==a?!1:lt.Controls.InteractiveService.checkKeyModifier(a.get_nativeEvent(),b)};lt.Documents.UI.DocumentViewerText.prototype={_destroy:function(){},_documentViewer:null,
get_documentViewer:function(){return this._documentViewer},_startWorking:function(){this._stopWorking();this._selectedTextItems={};this._pageText={};this._lastFindText=null;this._hasAnySelectedText=!1},_stopWorking:function(){this._addOrReplaceSelectedText(0,null);this._hasAnySelectedText=!1;null!=this._pageText&&(Object.clearKeys(this._pageText),this._pageText=null);null!=this._lastFindText&&(this._lastFindText=null)},_postRenderViewItem:function(a,b){if(this.get_renderSelection()&&lt.Documents.UI.DocumentViewerText.get__canRenderText()&&
null!=this._selectedTextItems){var c=b.get_item(),d=this._documentViewer.get_document(),c=c.get_leadIndex()+1;if(Object.keyExists(this._selectedTextItems,c)){var f=this._selectedTextItems[c];if(0<f.length){var g=new lt.Documents.UI.DocumentViewerOperationEventArgs(12,null,b,f,c,!1);this._documentViewer.onOperation(g);g.get_abort()||(this._doRenderSelectedText(d,g),g=new lt.Documents.UI.DocumentViewerOperationEventArgs(12,null,b,f,c,!0),this._documentViewer.onOperation(g))}}}},_renderSelection:!0,
get_renderSelection:function(){return this._renderSelection},set_renderSelection:function(a){return this._renderSelection=a},_pageText:null,_autoGetText:!1,get_autoGetText:function(){return this._autoGetText},set_autoGetText:function(a){return this._autoGetText=a},getDocumentPageText:function(a){return this._doGetDocumentPageText(a,!0,null)},getAllDocumentPageText:function(){if(this._documentViewer.get_hasDocument()){var a=this._documentViewer.get_pageCount(),b=new lt.Documents.UI.DocumentViewerOperationEventArgs(8,
null,null,null,0,!1);b.set_abort(!1);for(var c=1;c<=a&&!b.get_abort();c++)this._doGetDocumentPageText(c,!0,b)}},hasAnyDocumentPageText:function(){if(!this._documentViewer.get_hasDocument()||null==this._pageText||!Object.getKeyCount(this._pageText))return!1;for(var a=this._documentViewer.get_pageCount(),b=0;b<=a;b++)if(Object.keyExists(this._pageText,b)&&null!=this._pageText[b])return!0;return!1},hasDocumentPageText:function(a){if(!this._documentViewer.get_hasDocument()||null==this._pageText||!Object.getKeyCount(this._pageText))return!1;
for(var b=this._documentViewer.get_pageCount(),b=a?a:b,a=a?a:1;a<=b;a++)if(!Object.keyExists(this._pageText,a)||null==this._pageText[a])return!1;return!0},_doGetDocumentPageText:function(a,b,c){if(!this._documentViewer.get_hasDocument())return null;var d=this._documentViewer.get_document();this._documentViewer._checkPageNumber(a,!1,"pageNumber");if(Object.keyExists(this._pageText,a))return this._pageText[a];if(!b)return null;b=new lt.Documents.UI.DocumentViewerOperationEventArgs(8,null,null,null,
a,!1);this._documentViewer.onOperation(b);null!=c&&b.get_abort()&&c.set_abort(!0);if(b.get_abort())return null;d=d.pages[a-1].getText(lt.LeadRectD.get_empty());d.done(ss.Delegate.create(this,function(d){this._finishGetText(Type.safeCast(d,lt.Documents.DocumentPageText),a,null,c)}));d.fail(ss.Delegate.create(this,function(d){d=lt.Documents.ServiceError.parseError(d,"error",Type.safeCast(d.statusText,String));this._finishGetText(null,a,Error(d.isParseError?d.errorThrown:d.detail),c)}));return null},
_finishGetText:function(a,b,c,d){null!=a&&null==c?(a.buildTextWithMap(),this._pageText[b]=a,a=new lt.Documents.UI.DocumentViewerOperationEventArgs(8,null,a,null,b,!0)):a=new lt.Documents.UI.DocumentViewerOperationEventArgs(8,c,null,null,b,!0);this._documentViewer.onOperation(a);null!=d&&a.get_abort()&&d.set_abort(!0)},setDocumentPageText:function(a,b){if(this._documentViewer.get_hasDocument()){this._documentViewer._checkPageNumber(b,!1,"pageNumber");var c=new lt.Documents.UI.DocumentViewerOperationEventArgs(10,
null,null,null,0,!1);this._documentViewer.onOperation(c);c.get_abort()||(c=new lt.Documents.UI.DocumentViewerOperationEventArgs(9,null,null,null,b,!1),this._documentViewer.onOperation(c),c.get_abort()||(Object.keyExists(this._pageText,b)?this._pageText[b]=null!=a?a:null:null!=a&&(this._pageText[b]=a),this._addOrReplaceSelectedText(b,null),c=new lt.Documents.UI.DocumentViewerOperationEventArgs(9,null,null,null,b,!0),this._documentViewer.onOperation(c),c=new lt.Documents.UI.DocumentViewerOperationEventArgs(10,
null,null,null,0,!0),this._documentViewer.onOperation(c)))}},_selectedTextItems:null,getSelectedTextItems:function(a){if(!this._documentViewer.get_hasDocument())return null;this._documentViewer._checkPageNumber(a,!1,"pageNumber");return null!=this._selectedTextItems&&Object.keyExists(this._selectedTextItems,a)?this._selectedTextItems[a]:null},setSelectedTextItems:function(a,b){this._doSetSelectedTextItems(a,b)},_doSetSelectedTextItems:function(a,b){if(!this._documentViewer.get_hasDocument())return!1;
this._documentViewer._checkPageNumber(a,!1,"pageNumber");var c=new lt.Documents.UI.DocumentViewerOperationEventArgs(10,null,null,null,0,!1);this._documentViewer.onOperation(c);if(c.get_abort())return!1;c=new lt.Documents.UI.DocumentViewerOperationEventArgs(9,null,null,null,a,!1);this._documentViewer.onOperation(c);if(c.get_abort())return!1;c=null;if(null!=b)for(var c=[],d=0;d<b.length;d++){var f=b[d];null!=f?c.add(f.clone()):c.add(null)}this._addOrReplaceSelectedText(a,c);c=new lt.Documents.UI.DocumentViewerOperationEventArgs(9,
null,null,null,a,!0);this._documentViewer.onOperation(c);c=new lt.Documents.UI.DocumentViewerOperationEventArgs(10,null,null,null,0,!0);this._documentViewer.onOperation(c);return!0},clearSelection:function(a){if(!this._documentViewer.get_hasDocument())return!1;this._documentViewer._checkPageNumber(a,!0,"pageNumber");if(null==this._selectedTextItems)return!1;var b=this._documentViewer.get_pageCount(),c=a?a:1,b=a?a:b,d=!1,f=new lt.Documents.UI.DocumentViewerOperationEventArgs(10,null,null,null,0,!1);
this._documentViewer.onOperation(f);if(f.get_abort())return!1;for(;c<=b;c++){f=new lt.Documents.UI.DocumentViewerOperationEventArgs(9,null,null,null,c,!1);this._documentViewer.onOperation(f);if(f.get_abort())return this._updateHasAnySelectedText(),d;this._doClearSelection(c)&&(d=!0,f=new lt.Documents.UI.DocumentViewerOperationEventArgs(9,null,null,null,c,!0),this._documentViewer.onOperation(f))}a||Object.clearKeys(this._selectedTextItems);this._updateHasAnySelectedText();d&&(f=new lt.Documents.UI.DocumentViewerOperationEventArgs(10,
null,null,null,0,!0),this._documentViewer.onOperation(f));return d},_doClearSelection:function(a){var b=!1;null!=this._selectedTextItems&&Object.keyExists(this._selectedTextItems,a)&&(b=null!=this._selectedTextItems[a]&&0<this._selectedTextItems[a].length,this._selectedTextItems[a].clear(),delete this._selectedTextItems[a]);return b},_addOrReplaceSelectedText:function(a,b){if(null!=this._selectedTextItems){this._hasAnySelectedText=!1;for(var c=this._documentViewer.get_pageCount(),c=a?a:c,d=a?a:1;d<=
c;d++)Object.keyExists(this._selectedTextItems,d)?(this._selectedTextItems[d].clear(),null!=b?this._selectedTextItems[d]=b:delete this._selectedTextItems[d]):null!=b&&(this._selectedTextItems[d]=b);this._updateHasAnySelectedText()}},selectAll:function(a){if(this._documentViewer.get_hasDocument()){this._documentViewer._checkPageNumber(a,!0,"pageNumber");var b=this._documentViewer.get_pageCount(),c=a?a:1,a=a?a:b,b=new lt.Documents.UI.DocumentViewerOperationEventArgs(10,null,null,null,0,!1);this._documentViewer.onOperation(b);
if(!b.get_abort()){for(;c<=a;c++){b=new lt.Documents.UI.DocumentViewerOperationEventArgs(9,null,null,null,c,!1);this._documentViewer.onOperation(b);if(b.get_abort())return;b=this._selectPageText(c,0,-1,!1,4);this._addOrReplaceSelectedText(c,b);b=new lt.Documents.UI.DocumentViewerOperationEventArgs(9,null,null,null,c,!0);this._documentViewer.onOperation(b)}b=new lt.Documents.UI.DocumentViewerOperationEventArgs(10,null,null,null,0,!0);this._documentViewer.onOperation(b)}}},_selectPageText:function(a,
b,c,d){if(-1===b)return null;var f=this._doGetDocumentPageText(a,this.get_autoGetText(),null);if(null==f)return null;var g=f.characters;if(!g.length)return null;-1===c&&(c=f.characters.length-1);if(d){for(d=b-1;0<=d&&!g[d].isEndOfWord&&!g[d].isEndOfLine;)d--;for(b=d+1;c<g.length&&!g[c].isEndOfWord;)c++}for(var f=g[b].bounds,e=b,h=!0,d=[];b<=c;b++){var i=g[b],f=lt.LeadRectD.unionRects(f,i.bounds);i.isEndOfLine&&(h=new lt.Documents.UI.DocumentViewerTextItem,h.set_pageNumber(a),h.set_firstCharacterIndex(e),
h.set_lastCharacterIndex(b),h.set_bounds(f),d.add(h),h=!1,e=++b,b<=c&&(h=!0,f=g[b].bounds))}h&&(h=new lt.Documents.UI.DocumentViewerTextItem,h.set_pageNumber(a),h.set_firstCharacterIndex(e),h.set_lastCharacterIndex(c),h.set_bounds(f),d.add(h));for(b=0;b<d.length;++b)h=d[b],a=h.get_bounds(),h.set_bounds(a),d[b]=h;return d},selectText:function(a,b){this._internalSelectText(a,b,4)},_internalSelectText:function(a,b,c){if(this._documentViewer.get_hasDocument()){var d=this._documentViewer.get_document();
if(lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(a))4===c&&this.clearSelection(0);else{var f=this._documentViewer.get_view().get_imageViewer(),g=f.hitTestItems(lt.Controls.PrimitivesHelper.toLeadRectD(a));if(null==g||!g.length)4===c&&this.clearSelection(0);else{var e=new lt.Documents.UI.DocumentViewerOperationEventArgs(10,null,null,null,0,!1);this._documentViewer.onOperation(e);if(!e.get_abort()){for(g=ss.IEnumerator.getEnumerator(g);g.moveNext();){var h=g.current,e=[lt.LeadPointD.create(a.get_left(),
a.get_top()),lt.LeadPointD.create(a.get_right(),a.get_bottom())];f.convertPoints(h,lt.Controls.ImageViewerCoordinateType.control,lt.Controls.ImageViewerCoordinateType.image,e);e=lt.Controls.PrimitivesHelper.getBoundingRect(e);if(lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(e))4===c&&this.clearSelection(0);else{var e=d.rectToDocument(lt.Controls.PrimitivesHelper.toLeadRect(e)),h=h.get_leadIndex()+1,i=this._doGetDocumentPageText(h,this.get_autoGetText(),null);if(null==i)4===c&&this.clearSelection(h);
else{for(var i=i.characters,j=null,l=-1,k=-1,o=i.length,m=0;m<o;++m)if(e.intersectsWith(i[m].bounds)){k=l=m;break}for(m=l+1;m<o;++m)e.intersectsWith(i[m].bounds)&&(k=m);o=!1;if(0>l||0>k){m=new lt.Documents.UI.DocumentViewerOperationEventArgs(9,null,null,null,h,!1);this._documentViewer.onOperation(m);if(m.get_abort()){this._updateHasAnySelectedText();return}o=this.clearSelection(0)}if(b){if(-1===l){4===c&&this.clearSelection(h);continue}for(var n=!0,p=l,m=l;m<=k;++m)n&&!e.intersectsWith(i[m].bounds)?
(n=!1,null==j&&(j=[]),j.addRange(this._selectPageText(h,p,m-1,1===b,c))):!n&&e.intersectsWith(i[m].bounds)&&(p=m,n=!0);n&&(null==j&&(j=[]),j.addRange(this._selectPageText(h,p,k,1===b,c)))}else j=this._selectPageText(h,l,k,!0,c);o||(m=new lt.Documents.UI.DocumentViewerOperationEventArgs(9,null,null,null,h,!1),this._documentViewer.onOperation(m));o=this._isSameSelection(j,h);this._addOrReplaceSelectedText(h,j);o&&(m=new lt.Documents.UI.DocumentViewerOperationEventArgs(9,null,null,null,h,!0),this._documentViewer.onOperation(m))}}}e=
new lt.Documents.UI.DocumentViewerOperationEventArgs(10,null,null,null,0,!0);this._documentViewer.onOperation(e)}}}}},_isSameSelection:function(a,b){if(null==this._selectedTextItems)return!1;if(!Object.keyExists(this._selectedTextItems,b))return null!=a;var c=this._selectedTextItems[b];if(null==c&&null!=a||null!=c&&null==a)return!0;if(c.length!==a.length)return!1;for(var d=0;d<c.length;d++){var f=c[d],g=a[d];if(f.get_firstCharacterIndex()!==g.get_firstCharacterIndex()||f.get_lastCharacterIndex()!==
g.get_lastCharacterIndex())return!1}return!0},_updateHasAnySelectedText:function(){this._hasAnySelectedText=!1;var a=this._selectedTextItems,b;for(b in a){var c=a[b];if(null!=c&&0<c.length){this._hasAnySelectedText=!0;break}}},_hasAnySelectedText:!1,hasSelectedText:function(a){if(!this._documentViewer.get_hasDocument())return!1;this._documentViewer._checkPageNumber(a,!0,"pageNumber");if(null==this._selectedTextItems)return!1;if(!a)return this._hasAnySelectedText;for(var b=this._documentViewer.get_pageCount(),
b=a?a:b,c=!1,a=a?a:1;a<=b&&!c;a++)Object.keyExists(this._selectedTextItems,a)&&(c=this._selectedTextItems[a],c=null!=c&&0<c.length);c&&!this._hasAnySelectedText&&(this._hasAnySelectedText=!0);return c},getSelectedText:function(a){if(!this._documentViewer.get_hasDocument())return null;this._documentViewer._checkPageNumber(a,!0,"pageNumber");for(var b=this._documentViewer.get_pageCount(),c=a?a:1,a=a?a:b,b=new ss.StringBuilder,d=!0;c<=a;c++)d||b.appendLine(),d=this._doGetSelectedText(c,b);return lt.Documents.UI.DocumentViewerText._removeLastEndOfLine(b.toString())},
_doGetSelectedText:function(a,b){if(!Object.keyExists(this._selectedTextItems,a)||!Object.keyExists(this._pageText,a))return!1;var c=this._selectedTextItems[a];if(null==c||!c.length)return!1;var d=this._pageText[a].characters;if(null==d||!d.length)return!1;for(var f,g,e=!1,c=ss.IEnumerator.getEnumerator(c);c.moveNext();){g=c.current;f=g.get_firstCharacterIndex();for(g=g.get_lastCharacterIndex();f<=g;++f){var h=d[f];b.append(h.code);e=!1;h.isEndOfWord&&f<g&&(b.append(" "),e=!1);h.isEndOfLine&&(e=!0,
b.appendLine())}}return e},exportText:function(a){if(!this._documentViewer.get_hasDocument())return null;this._documentViewer._checkPageNumber(a,!0,"pageNumber");for(var b=this._documentViewer.get_pageCount(),c=a?a:1,a=a?a:b,b=new ss.StringBuilder,d=!0;c<=a;c++)d||b.appendLine(),d=this._doGetText(c,b);return b.toString()},_doGetText:function(a,b){var c=this._doGetDocumentPageText(a,this.get_autoGetText(),null);if(null==c)return!1;c=c.text;null!=c&&b.append(c);return lt.Documents.UI.DocumentViewerText._endsWithEndOfLine(c)},
copy:function(a){a=this.getSelectedText(a);String.isNullOrEmpty(a)||lt.Documents.UI.DocumentViewerText._nativeCopy(a)},_lastFindText:null,clearLastFindText:function(){this._lastFindText=null},get_lastFindText:function(){return null!=this._lastFindText?this._lastFindText.clone():null},find:function(a,b,c){if(null==a)throw new lt.ArgumentNullException("findText");if(!this._documentViewer.get_hasDocument())return null;var d=a.get_pageNumber();this._documentViewer._checkPageNumber(d,!1,"PageNumber");
var f=this._documentViewer.get_document(),g=f.pages.length,e=d,h,i,j=!1,l,k=a.get__result();null!=k&&!b?l=k.clone():(k=null,l=new lt.Documents.UI._internalFindTextResult);do if(h=!1,i=this._doGetDocumentPageText(e,this.get_autoGetText(),null),j&&(l.startIndex=c?0:i.text.length+a.get_text().length),i=a._find(i,c,l),!i&&a.get_gotoNextPage())j=!0,c?(e++,e>g&&(e=a.get_recursive()?1:d)):(e--,1>e&&(e=a.get_recursive()?g:d)),e!==d&&(h=!0);while(!i&&h);c=null;d=i;!i&&b&&null!=k&&-1!==k.firstCharacterIndex&&
(l=k.clone(),i=!0);i&&(a._found(e,l),c=this._selectPageText(e,l.firstCharacterIndex,l.lastCharacterIndex,!1,1),this._processFindData(f,a,c),this._lastFindText=a.clone());return d?c:null},_processFindData:function(a,b,c){if(!(null==c||!c.length||!b.get_autoSelect()&&!b.get_autoEnsureVisible())){var d=this._documentViewer.get_view().get_imageViewer(),f=ss.Delegate.create(this,function(){d.beginUpdate();try{if(b.get_autoSelect()&&(this.clearSelection(0),!this._doSetSelectedTextItems(b.get_pageNumber(),
c)))return;if(b.get_autoEnsureVisible()){for(var f=b.get_pageNumber()-1,e=d.get_items().get_item(f),h=lt.LeadRectD.get_empty(),i=ss.IEnumerator.getEnumerator(c);i.moveNext();)h=lt.LeadRectD.unionRects(h,i.current.get_bounds());d.set_activeItem(e);d.gotoItem(e);h=lt.Controls.PrimitivesHelper.toLeadRectD(a.rectToPixels(h));h=d.convertRect(e,lt.Controls.ImageViewerCoordinateType.image,lt.Controls.ImageViewerCoordinateType.control,h);d.ensureBoundsVisible(h)}}finally{d.endUpdate()}});lt.Documents.UI._invoker.beginInvoke2(d,
f,null,null)}},get_lineKeyModifier:function(){return this._lineKeyModifier},set_lineKeyModifier:function(a){switch(a){case lt.Controls.Keys.none:case lt.Controls.Keys.alt:case lt.Controls.Keys.shift:case lt.Controls.Keys.control:this._lineKeyModifier=a;break;default:throw new lt.ArgumentException("Invalid value","LineKeyModifier");}return a},get_wordKeyModifier:function(){return this._wordKeyModifier},set_wordKeyModifier:function(a){switch(a){case lt.Controls.Keys.none:case lt.Controls.Keys.alt:case lt.Controls.Keys.shift:case lt.Controls.Keys.control:this._wordKeyModifier=
a;break;default:throw new lt.ArgumentException("Invalid value","WordKeyModifier");}return a},get_characterKeyModifier:function(){return this._characterKeyModifier},set_characterKeyModifier:function(a){switch(a){case lt.Controls.Keys.none:case lt.Controls.Keys.alt:case lt.Controls.Keys.shift:case lt.Controls.Keys.control:this._characterKeyModifier=a;break;default:throw new lt.ArgumentException("Invalid value","CharacterKeyModifier");}return a},_trySelect:function(a,b,c,d,f){var g=this._documentViewer.get_view().get_imageViewer();
null!=g&&null!=g.get_items().get_item(a-1)&&(a=[b.clone(),c.clone()],a=lt.Controls.PrimitivesHelper.getBoundingRect(a),a.get_isEmpty()||(b=0,lt.Documents.UI.DocumentViewerText._checkKeyModifier(f,this.get_wordKeyModifier())?b=1:lt.Documents.UI.DocumentViewerText._checkKeyModifier(f,this.get_characterKeyModifier())&&(b=2),this._documentViewer.get_text()._internalSelectText(lt.Controls.PrimitivesHelper.toLeadRect(a),b,d)))},_prepareToSave:function(){},dispose:function(){this._destroy(!0)},_doRenderSelectedText:function(a,
b){for(var c=b.get_data1(),d=c.get_item(),f=b.get_data2(),d=d.get_imageViewer().getItemImageTransform(d),c=c.get_context(),f=ss.IEnumerator.getEnumerator(f);f.moveNext();){var g=a.rectToPixels(f.current.get_bounds());lt.Controls.PrimitivesHelper.isEmptyOrZeroRect(g)||(g=d.transformRect(g));g.inflate(2,2);c.save();c.fillStyle=lt.Documents.UI.DocumentViewerText.get_selectedFill();c.fillRect(g.get_x(),g.get_y(),g.get_width(),g.get_height());c.restore()}}};Object.defineProperty(lt.Documents.UI.DocumentViewerText.prototype,
"documentViewer",{get:lt.Documents.UI.DocumentViewerText.prototype.get_documentViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerText.prototype,"renderSelection",{get:lt.Documents.UI.DocumentViewerText.prototype.get_renderSelection,set:lt.Documents.UI.DocumentViewerText.prototype.set_renderSelection,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerText.prototype,"autoGetText",{get:lt.Documents.UI.DocumentViewerText.prototype.get_autoGetText,
set:lt.Documents.UI.DocumentViewerText.prototype.set_autoGetText,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerText.prototype,"lastFindText",{get:lt.Documents.UI.DocumentViewerText.prototype.get_lastFindText,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerText.prototype,"lineKeyModifier",{get:lt.Documents.UI.DocumentViewerText.prototype.get_lineKeyModifier,set:lt.Documents.UI.DocumentViewerText.prototype.set_lineKeyModifier,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerText.prototype,"wordKeyModifier",{get:lt.Documents.UI.DocumentViewerText.prototype.get_wordKeyModifier,set:lt.Documents.UI.DocumentViewerText.prototype.set_wordKeyModifier,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerText.prototype,"characterKeyModifier",{get:lt.Documents.UI.DocumentViewerText.prototype.get_characterKeyModifier,set:lt.Documents.UI.DocumentViewerText.prototype.set_characterKeyModifier,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerText,"selectedFill",{get:lt.Documents.UI.DocumentViewerText.get_selectedFill,set:lt.Documents.UI.DocumentViewerText.set_selectedFill,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerTextItem=function(){this._lastCharacterIndex=this._firstCharacterIndex=-1;this._bounds=lt.LeadRectD.get_empty()};lt.Documents.UI.DocumentViewerTextItem.prototype={clone:function(){var a=new lt.Documents.UI.DocumentViewerTextItem;
a._firstCharacterIndex=this._firstCharacterIndex;a._lastCharacterIndex=this._lastCharacterIndex;a._bounds=this._bounds;return a},_pageNumber:0,get_pageNumber:function(){return this._pageNumber},set_pageNumber:function(a){return this._pageNumber=a},get_firstCharacterIndex:function(){return this._firstCharacterIndex},set_firstCharacterIndex:function(a){return this._firstCharacterIndex=a},get_lastCharacterIndex:function(){return this._lastCharacterIndex},set_lastCharacterIndex:function(a){return this._lastCharacterIndex=
a},get_bounds:function(){return this._bounds},set_bounds:function(a){lt.Controls.ControlsHelper.checkIfNull(a,"Bounds");this._bounds=a.clone();return a}};Object.defineProperty(lt.Documents.UI.DocumentViewerTextItem.prototype,"pageNumber",{get:lt.Documents.UI.DocumentViewerTextItem.prototype.get_pageNumber,set:lt.Documents.UI.DocumentViewerTextItem.prototype.set_pageNumber,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerTextItem.prototype,"firstCharacterIndex",{get:lt.Documents.UI.DocumentViewerTextItem.prototype.get_firstCharacterIndex,
set:lt.Documents.UI.DocumentViewerTextItem.prototype.set_firstCharacterIndex,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerTextItem.prototype,"lastCharacterIndex",{get:lt.Documents.UI.DocumentViewerTextItem.prototype.get_lastCharacterIndex,set:lt.Documents.UI.DocumentViewerTextItem.prototype.set_lastCharacterIndex,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerTextItem.prototype,"bounds",{get:lt.Documents.UI.DocumentViewerTextItem.prototype.get_bounds,
set:lt.Documents.UI.DocumentViewerTextItem.prototype.set_bounds,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerThumbnails=function(a){this._updateThumbnailImageTagTimer=-1;this._documentViewer=a};lt.Documents.UI.DocumentViewerThumbnails._getThumbnailSize=function(a,b){if(a.get_isEmpty()||!a.get_width()||!a.get_height())return lt.LeadSizeD.create(0,0);var c=parseInt(lt.Documents.Document.documentToPixels(96,a.get_width())),d=parseInt(lt.Documents.Document.documentToPixels(96,a.get_height())),
f=lt.LeadRectD.create(0,0,b.get_width(),b.get_height()),f=lt.Controls.ImageViewer.getDestinationRectangle(c,d,f,lt.Controls.ControlSizeMode.fit,lt.Controls.ControlAlignment.near,lt.Controls.ControlAlignment.near);return 1>f.get_width()||1>f.get_height()?lt.LeadSizeD.create(0,0):lt.LeadSizeD.create(f.get_width(),f.get_height())};lt.Documents.UI.DocumentViewerThumbnails.prototype={_destroy:function(a){a&&(this._stopWorking(!1),null!=this._imageViewer&&(this._imageViewer.remove_selectedItemsChanged(ss.Delegate.create(this,
this._imageViewer_SelectedItemsChanged)),this._imageViewer.remove_postRenderItem(ss.Delegate.create(this,this._imageViewer_PostRenderItem)),this._deleteControls(),this._imageViewer.dispose(),this._imageViewer=null))},_documentViewer:null,get_documentViewer:function(){return this._documentViewer},_imageViewer:null,get_imageViewer:function(){return this._imageViewer},_init:function(a){this._createControls(a);a=new lt.Controls.ImageViewerSelectItemsInteractiveMode;a.set_selectionMode(lt.Controls.ImageViewerSelectionMode.single);
this._imageViewer.get_useElements()&&a.set_autoDisableTransitions(!1);var b=new lt.Controls.ImageViewerPanZoomInteractiveMode;b.set_enableZoom(!1);b.set_doubleTapSizeMode(lt.Controls.ControlSizeMode.none);this._imageViewer.get_useElements()&&b.set_autoDisableTransitions(!1);this._imageViewer.beginUpdate();this._imageViewer.get_interactiveModes().add(a);this._imageViewer.get_interactiveModes().add(b);this._imageViewer.set_tag(this._documentViewer);this._imageViewer.endUpdate();this._imageViewer.add_postRenderItem(ss.Delegate.create(this,
this._imageViewer_PostRenderItem));this._imageViewer.add_selectedItemsChanged(ss.Delegate.create(this,this._imageViewer_SelectedItemsChanged))},_ignoreSelectedChangedCounter:0,_imageViewer_SelectedItemsChanged:function(){if(!(0<this._ignoreSelectedChangedCounter)){var a=this._imageViewer.get_items().getSelected();null==a||1!==a.length||this._documentViewer.gotoPage(this._imageViewer.get_items().indexOf(a[0])+1)}},_ensureSelected:function(a){if(!(null==this._imageViewer||0>a||a>=this._imageViewer.get_items().get_count()))if(a=
this._imageViewer.get_items().get_item(a),!a.get_isSelected()){this._ignoreSelectedChangedCounter++;try{this._imageViewer.get_items().select([a]),this._imageViewer.ensureItemVisible(a)}finally{this._ignoreSelectedChangedCounter--}}},_imageViewer_PostRenderItem:function(a,b){this._currentUseGrids&&this._renderThumbnailFromGrid(b);if(null!=this._documentViewer.get_annotations()&&this._documentViewer.get_annotations().get_renderOnThumbnails()&&null!=b.get_item()){var c=this._imageViewer.get_items().indexOf(b.get_item())+
1;this._documentViewer.get_annotations()._renderThumbnail(c,b)}},_renderThumbnailFromGrid:function(a){if(null!=this._thumbnailsImageGroupLoader){if(this._thumbnailsImageGroupLoader.get_isAborting())return}else if(null==this._grids||!this._grids.length)return;var b=this._documentViewer.get_thumbnails().get_imageViewer(),c=a.get_item(),d=b.getItemImageTransform(c),f=c.get_imageSize();if(!lt.Controls.PrimitivesHelper.isEmptyOrZeroSize(f)&&(b=b.getItemViewBounds(c,lt.Controls.ImageViewerItemPart.image,
!1),!b.get_isEmpty()&&(b.set_width(b.get_width()+1),b.set_height(b.get_height()+1),c=this._imageViewer.get_items().indexOf(a.get_item())+1,b=null,b=this._grids,b=lt.Documents.UI._thumbnailsGrid.getGridForPage(b,c),null!=b&&null!=b.get_image()&&(c=lt.Documents.UI._thumbnailsGrid.getGridImageRectForPage(b,c),!c.get_isEmpty())))){var f=lt.LeadRectD.create(0,0,f.get_width(),f.get_height()),g=null;try{d.get_isIdentity()||(g=lt.Controls.GraphicsHelper.saveContext(a.get_context()),lt.Controls.GraphicsHelper.multiplyTransform(a.get_context(),
d)),this._renderImage(a.get_context(),b.get_image(),f,c)}finally{null!=g&&lt.Controls.GraphicsHelper.restoreContext(a.get_context(),g)}}},_initControls:function(){this._imageViewer.beginUpdate();var a=new lt.Controls.ImageViewerVerticalViewLayout;a.set_columns(0);this._imageViewer.set_viewLayout(a);this._imageViewer.set_itemHorizontalAlignment(lt.Controls.ControlAlignment.center);this._imageViewer.set_itemVerticalAlignment(lt.Controls.ControlAlignment.center);this._imageViewer.set_itemSize(lt.LeadSizeD.create(128,
128));this._imageViewer.get_useElements()?this._imageViewer.set_viewHorizontalAlignment(lt.Controls.ControlAlignment.center):(this._imageViewer.set_viewPadding(lt.Controls.PaddingHelper.create(8,8,8,8)),this._imageViewer.set_imageBorderThickness(1),this._imageViewer.set_itemPadding(lt.Controls.PaddingHelper.create(10,10,10,20)),this._imageViewer.set_selectedItemBackgroundColor(lt.Controls.GraphicsHelper.colorFromString("lightblue")));this._imageViewer.endUpdate()},_thumbnailsImageGroupLoader:null,
_grids:null,_useGrids:!1,get_useGrids:function(){return this._useGrids},set_useGrids:function(a){return this._useGrids=a},_gridPixelSize:400,get_gridPixelSize:function(){return this._gridPixelSize},set_gridPixelSize:function(a){if(0>a)throw new lt.ArgumentOutOfRangeException("GridPixelSize",a,"Must be a value greater than 0");return this._gridPixelSize=a},_currentUseGrids:!1,get_isLoading:function(){return null!=this._thumbnailsImageGroupLoader&&this._thumbnailsImageGroupLoader.get_isWorking()},_startWorking:function(){this._ignoreSelectedChangedCounter=
0;this._stopWorking(!1);this._imageViewer.beginUpdate();this._imageViewer.get_items().clear();this._imageViewer.reset();this._imageViewer.endUpdate();var a=this._documentViewer.get_document();if(null!=a){var b=null!=a?a.pages.length:0;if(b){null!=a&&this._imageViewer.set_itemSize(a.images.thumbnailPixelSize);this._imageViewer.beginUpdate();for(var c=lt.LeadRectD.create(0,0,this._imageViewer.get_itemSize().get_width(),this._imageViewer.get_itemSize().get_height()),d=1;d<=b;d++){var f=a.pages[d-1],
g=new lt.Controls.ImageViewerItem,f=a.sizeToPixels(f.size),f=lt.Controls.ImageViewer.getDestinationRectangle(f.get_width(),f.get_height(),c,lt.Controls.ControlSizeMode.fit,lt.Controls.ControlAlignment.near,lt.Controls.ControlAlignment.near);g.set_imageSize(f.get_size());g.set_text("Page "+d.toString());this._imageViewer.get_items().add(g)}this._imageViewer.endUpdate();g=new lt.Documents.UI.DocumentViewerOperationEventArgs(1,null,null,null,0,!1);this._documentViewer.onOperation(g);if(!g.get_abort()){this._currentUseGrids=
this._useGrids;this._imageViewer.add_scrollOffsetChanged(ss.Delegate.create(this,this._imageViewer_ScrollOffsetChanged));this._imageViewer.add_transformChanged(ss.Delegate.create(this,this._imageViewer_TransformChanged));this._currentUseGrids?(this._thumbnailsImageGroupLoader=new lt.ImageGroupLoader(this._getThumbnailsGridIterations(a),this._imageViewer.get_imagesDiv()),this._thumbnailsImageGroupLoader.set_maximumLoadersWorking(1)):(this._thumbnailsImageGroupLoader=new lt.ImageGroupLoader(a.pages.length,
this._imageViewer.get_imagesDiv()),this._thumbnailsImageGroupLoader.set_maximumLoadersWorking(this._workerCount));this._thumbnailsImageGroupLoader.set_lazyLoad(this._lazyLoad);this._thumbnailsImageGroupLoader.add_allDone(ss.Delegate.create(this,this._imageGroupLoader_allDone));if(this._currentUseGrids)this._groupLoadGrid(a);else for(var e=null,h=null,i=null,c=this._documentViewer.get__documentUseAjaxImageLoading(),e=ss.Delegate.create(this,function(a){var d=a.get_tag();a.get_isHTMLImageElement()?
d.set_image(a.get_element()):d.set_element(a.get_element());if(d.get_imageViewer()!=null){d=d.get_imageViewer().get_items().indexOf(d);this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(2,null,a.get_url(),null,d+1,true))}}),h=ss.Delegate.create(this,function(a){var d=a.get_tag(),d=d.get_imageViewer().get_items().indexOf(d);this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(2,a.get_error(),null,null,d+1,true))}),i=function(a){a.remove_done(e);
a.remove_fail(h);a.remove_always(i)},d=c?lt.ImageLoaderUrlMode.ajaxDataUrl:lt.ImageLoaderUrlMode.imageUrl,j=0;j<a.pages.length;j++){var g=this._imageViewer.get_items().get_item(j),f=a.pages[j],l=f.getThumbnailImage(),k=new lt.ImageLoader;k.set_urlMode(d);f=f.getThumbnailImageElement(k);c&&"rejected"===f.state()?(this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(2,Error("Error loading thumbnail"),null,null,j+1,!0)),k=null):(k.set_url(l),k.add_done(e),k.add_fail(h),
k.add_always(i),k.set_tag(g),this._thumbnailsImageGroupLoader.load(k))}this._lazyLoad&&!this._tryUpdateThumbnailImageTags()&&(a=Math.min(2*this._workerCount,b)-1,this._currentUseGrids?(b=lt.Documents.UI._thumbnailsGrid.getGridForPage(this._grids,1),a=lt.Documents.UI._thumbnailsGrid.getGridForPage(this._grids,a)):(b=this._imageViewer.get_items().get_item(0),a=this._imageViewer.get_items().get_item(a)),null!=b&&null!=a&&this._thumbnailsImageGroupLoader.setImageTags(b,a))}}}},_imageGroupLoader_allDone:function(){var a=
ss.Delegate.create(this,function(){this._stopWorking(!0);this.invalidate(lt.LeadRectD.get_empty())});lt.Documents.UI._invoker.beginInvoke0(this._imageViewer,a)},_groupLoadGrid:function(a){for(var b=null,c=null,d=null,f=this._documentViewer.get__documentUseAjaxImageLoading(),g=null,b=ss.Delegate.create(this,function(a){var d=a.get_tag();try{var b;if(a.get_isHTMLImageElement())b=a.get_element();else throw new lt.InvalidOperationException("Thumbnails Grid requires an Image Element");var c=window.document.createElement("canvas");
c.width=b.naturalWidth;c.height=b.naturalHeight;c.getContext("2d").drawImage(b,0,0);d.set_image(c);for(var a=!1,c=null,f=d.get_firstPageNumber();f<=d.get_lastPageNumber()&&!a;f++)1<=f&&f<=this._imageViewer.get_items().get_count()&&(c=this._imageViewer.get_items().get_item(f-1),this._imageViewer.isItemVisible(c,lt.Controls.ImageViewerItemPart.item)&&(a=!0));a&&this._imageViewer.invalidate(lt.LeadRectD.get_empty());g=new lt.Documents.UI.DocumentViewerOperationEventArgs(2,null,b,null,d.get_lastPageNumber(),
!0)}catch(e){g=new lt.Documents.UI.DocumentViewerOperationEventArgs(2,e,null,null,d.get_lastPageNumber(),!0)}}),c=function(a){a=a.get_tag();g=new lt.Documents.UI.DocumentViewerOperationEventArgs(2,Error("Error loading grid"),null,null,a.get_lastPageNumber(),!0)},d=ss.Delegate.create(this,function(a){a.remove_done(b);a.remove_fail(c);a.remove_always(d);this._documentViewer.onOperation(g)}),e=f?lt.ImageLoaderUrlMode.ajaxDataUrl:lt.ImageLoaderUrlMode.imageUrl,h=0;h<this._grids.length;h++){var i=new lt.ImageLoader;
i.set_urlMode(e);if(null==this._thumbnailsImageGroupLoader||this._thumbnailsImageGroupLoader.get_isAborting())break;var j=this._grids[h],l=a.images.getThumbnailsGrid(j.get_firstPageNumber(),j.get_lastPageNumber(),this._gridPixelSize),k=a.images.getThumbnailsGridElement(j.get_firstPageNumber(),j.get_lastPageNumber(),this._gridPixelSize,i);f&&"rejected"===k.state()?(this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(2,Error("Error loading thumbnail"),null,null,j.get_lastPageNumber(),
!0)),i=null):(i.add_done(b),i.add_fail(c),i.add_always(d),i.set_url(l),i.set_tag(j),this._thumbnailsImageGroupLoader.load(i))}},_getThumbnailsGridIterations:function(a){var b=a.images.thumbnailPixelSize,c=a.pages.length,d=lt.Documents.UI._documentViewerHelper.parseInt(this._gridPixelSize*this._gridPixelSize/(parseInt(b.get_width())*parseInt(b.get_height())));1>d&&(d=1);var f=parseInt(c/d);c%d&&f++;this._grids=[];var g=1,e=0;do{var e=Math.min(c,g+d-1),h=lt.Documents.UI._documentViewerHelper.parseInt(Math.max(1,
0<this._gridPixelSize?this._gridPixelSize/parseInt(b.get_width()):c)),i=lt.Documents.UI._documentViewerHelper.parseInt(c/h);c%h&&i++;if(e>=g){var j=new lt.Documents.UI._thumbnailsGrid;j.set_firstPageNumber(g);j.set_lastPageNumber(e);j.set_image(null);j.set_columns(h);for(var l=0,k=0;k<i&&g<=e;k++){for(var o=0;o<h&&g<=e;o++){var m=lt.Documents.UI.DocumentViewerThumbnails._getThumbnailSize(a.pages[g-1].size,b),n=lt.LeadRectD.create(o*b.get_width(),k*b.get_height(),b.get_width(),b.get_height()),n=lt.Controls.ImageViewer.getDestinationRectangle(parseInt(m.get_width()),
parseInt(m.get_height()),n,lt.Controls.ControlSizeMode.fit,lt.Controls.ControlAlignment.center,lt.Controls.ControlAlignment.center);j.get_rects().add(n);g++}l++}j.set_columns(h);j.set_rows(l);this._grids.add(j);g=e+1}}while(e<c);return f},_stopWorking:function(a){a||(lt.Documents.UI._thumbnailsGrid.deleteGrid(this._grids),this._grids=null);null!=this._thumbnailsImageGroupLoader&&(this._thumbnailsImageGroupLoader.remove_allDone(ss.Delegate.create(this,this._imageGroupLoader_allDone)),this._thumbnailsImageGroupLoader.dispose(),
this._thumbnailsImageGroupLoader=null,this._imageViewer.remove_scrollOffsetChanged(ss.Delegate.create(this,this._imageViewer_ScrollOffsetChanged)),this._imageViewer.remove_transformChanged(ss.Delegate.create(this,this._imageViewer_TransformChanged)),this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(3,null,null,null,0,!0)))},_doTryUpdateThumbnailImageTags:function(){this._updateThumbnailImageTagTimer=-1;if(this._imageViewer.get_hasSize()){var a=this._imageViewer.getFirstVisibleItem(lt.Controls.ImageViewerItemPart.item),
b=this._imageViewer.getLastVisibleItem(lt.Controls.ImageViewerItemPart.item);null==a&&null==b||(this._currentUseGrids&&(a=this._imageViewer.get_items().indexOf(a),b=this._imageViewer.get_items().indexOf(b),-1!==a&&-1!==b?(a=lt.Documents.UI._thumbnailsGrid.getGridForPage(this._grids,a+1),b=lt.Documents.UI._thumbnailsGrid.getGridForPage(this._grids,b+1)):b=a=!1),null!=this._thumbnailsImageGroupLoader&&null!=a&&null!=b&&this._thumbnailsImageGroupLoader.setImageTags(a,b))}},_tryUpdateThumbnailImageTags:function(){return null!=
this._thumbnailsImageGroupLoader&&this._thumbnailsImageGroupLoader.get_isWorking()&&this._imageViewer.get_hasSize()&&null!=this._imageViewer.getFirstVisibleItem(lt.Controls.ImageViewerItemPart.item)?(-1!==this._updateThumbnailImageTagTimer&&clearTimeout(this._updateThumbnailImageTagTimer),this._updateThumbnailImageTagTimer=setTimeout(ss.Delegate.create(this,this._doTryUpdateThumbnailImageTags),100),!0):!1},_imageViewer_ScrollOffsetChanged:function(){},_imageViewer_TransformChanged:function(){null==
this._documentViewer||null==this._imageViewer||this._tryUpdateThumbnailImageTags()},invalidate:function(a){null!=this._imageViewer&&this._imageViewer.invalidate(a)},_prepareToSave:function(){},dispose:function(){this._destroy(!0)},_createControls:function(a){if(null!=a.get_thumbnailsContainer()){var b=a.get_thumbnailsCreateOptions();b.set_parentDiv(a.get_thumbnailsContainer());this._imageViewer=new lt.Controls.ImageViewer(b);this._useGrids=!0;this._initControls()}},_deleteControls:function(){if(null!=
this._imageViewer){var a=this._imageViewer.get_mainDiv();null!=a&&a.parentNode.removeChild(a)}},_workerCount:4,get_workerCount:function(){return this._workerCount},set_workerCount:function(a){if(this._workerCount!==a){if(1>a)throw new lt.ArgumentOutOfRangeException("WorkerCount",a,"Must be a value greater than or equal to 1");this._workerCount=a;null!=this._thumbnailsImageGroupLoader&&this._thumbnailsImageGroupLoader.get_isWorking()&&this._thumbnailsImageGroupLoader.set_maximumLoadersWorking(this._workerCount)}return a},
_lazyLoad:!1,get_lazyLoad:function(){return this._lazyLoad},set_lazyLoad:function(a){this._lazyLoad!==a&&(this._lazyLoad=a,null!=this._thumbnailsImageGroupLoader&&this._thumbnailsImageGroupLoader.get_isWorking()&&this._thumbnailsImageGroupLoader.set_lazyLoad(this._lazyLoad),this._imageViewer_ScrollOffsetChanged(null,null));return a},_renderImage:function(a,b,c,d){a.drawImage(b,d.get_x(),d.get_y(),d.get_width(),d.get_height(),c.get_x(),c.get_y(),c.get_width(),c.get_height())},_nativeSetItemImage:function(a,
b){a.set_url(b)}};Object.defineProperty(lt.Documents.UI.DocumentViewerThumbnails.prototype,"documentViewer",{get:lt.Documents.UI.DocumentViewerThumbnails.prototype.get_documentViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerThumbnails.prototype,"imageViewer",{get:lt.Documents.UI.DocumentViewerThumbnails.prototype.get_imageViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerThumbnails.prototype,"useGrids",{get:lt.Documents.UI.DocumentViewerThumbnails.prototype.get_useGrids,
set:lt.Documents.UI.DocumentViewerThumbnails.prototype.set_useGrids,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerThumbnails.prototype,"gridPixelSize",{get:lt.Documents.UI.DocumentViewerThumbnails.prototype.get_gridPixelSize,set:lt.Documents.UI.DocumentViewerThumbnails.prototype.set_gridPixelSize,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerThumbnails.prototype,"isLoading",{get:lt.Documents.UI.DocumentViewerThumbnails.prototype.get_isLoading,
enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerThumbnails.prototype,"workerCount",{get:lt.Documents.UI.DocumentViewerThumbnails.prototype.get_workerCount,set:lt.Documents.UI.DocumentViewerThumbnails.prototype.set_workerCount,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerThumbnails.prototype,"lazyLoad",{get:lt.Documents.UI.DocumentViewerThumbnails.prototype.get_lazyLoad,set:lt.Documents.UI.DocumentViewerThumbnails.prototype.set_lazyLoad,
enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerView=function(a){this._updateViewImageTagTimer=-1;this._preferredItemType=this._itemType=0;this._documentViewer=a};lt.Documents.UI.DocumentViewerView.get__useVirtualizer=function(){return!1};lt.Documents.UI.DocumentViewerView._getPageImages=function(a,b,c){var d=1===b.get_itemType(),f=[null,null],a=a.pages[c];d?(f[0]=a.getSvg(lt.Documents.DocumentGetSvgOptions.none),b.get_useSvgBackImage()&&(f[1]=a.getSvgBackImage(b.get_imageViewer().get_imageBackgroundColor()))):
f[0]=a.getImage();return f};lt.Documents.UI.DocumentViewerView.prototype={_destroy:function(a){a&&(this._stopWorking(),null!=this._imageViewer&&(this._imageViewer.remove_postRenderItem(ss.Delegate.create(this,this._imageViewer_PostRenderItem)),this._imageViewer.remove_scrollOffsetChanged(ss.Delegate.create(this,this._imageViewer_ScrollOffsetChanged)),this._imageViewer.remove_transformChanged(ss.Delegate.create(this,this._imageViewer_TransformChanged)),this._imageViewer.remove_activeItemChanged(ss.Delegate.create(this,
this._imageViewer_ActiveItemChanged)),this._deleteControls(),this._imageViewer.dispose(),this._imageViewer=null))},_documentViewer:null,get_documentViewer:function(){return this._documentViewer},_imageViewer:null,get_imageViewer:function(){return this._imageViewer},_useSvgBackImage:!1,get_useSvgBackImage:function(){return this._useSvgBackImage},set_useSvgBackImage:function(a){return this._useSvgBackImage=a},_init:function(a,b){this._createControls(a,b)},_initInteractiveModes:function(a){var b=this.get_documentViewer().get_commands(),
c=b.get__commands();this._imageViewer.get_interactiveModes().beginUpdate();var d=new lt.Controls.ImageViewerAutoPanInteractiveMode;d.set_panDelay(50);d.set_moveThreshold(1);this._imageViewer.get_interactiveModes().add(d);d=this._documentViewer.get_annotations();null!=d&&(d=d.get_interactiveMode(),this._imageViewer.get_interactiveModes().add(d));d=new lt.Documents.UI.DocumentViewerPageLinksInteractiveMode(this._documentViewer);this._imageViewer.get_interactiveModes().add(d);for(var f in c)d=Type.safeCast(c[f].get_tag(),
lt.Controls.ImageViewerInteractiveMode),null!=d&&(d.set_isEnabled(!1),this._imageViewer.get_interactiveModes().add(d));this._setInteratciveModeCursors();this._imageViewer.get_interactiveModes().endUpdate();c=Type.safeCast(this._imageViewer.get_interactiveModes().findById(102),lt.Documents.UI.DocumentViewerSelectTextInteractiveMode);null!=c&&c.set_documentViewer(this._documentViewer);b.run(a,null)},_setInteratciveModeCursors:function(){for(var a=lt.Documents.UI._documentViewerHelper.getCursor(5),b=
lt.Documents.UI._documentViewerHelper.getCursor(1),c=lt.Documents.UI._documentViewerHelper.getCursor(2),d=lt.Documents.UI._documentViewerHelper.getCursor(3),f=lt.Documents.UI._documentViewerHelper.getCursor(4),g=ss.IEnumerator.getEnumerator(this._imageViewer.get_interactiveModes());g.moveNext();){var e=g.current;switch(e.get_id()){case lt.Controls.ImageViewerInteractiveMode.panZoomModeId:var h=Type.safeCast(e,lt.Controls.ImageViewerPanZoomInteractiveMode);null!=h&&(h.get_enablePan()&&h.get_enableZoom()?
(e.set_idleCursor(a),e.set_workingCursor(b)):h.get_enablePan()&&!h.get_enableZoom()?(e.set_idleCursor(b),e.set_workingCursor(b)):!h.get_enablePan()&&h.get_enableZoom()&&(e.set_idleCursor(d),e.set_workingCursor(d)));break;case lt.Controls.ImageViewerInteractiveMode.zoomToModeId:e.set_idleCursor(c);e.set_workingCursor(c);break;case lt.Controls.ImageViewerInteractiveMode.magnifyGlassModeId:e.set_idleCursor(c);e.set_workingCursor(c);break;case 102:e.set_idleCursor(f);e.set_workingCursor(f);break;case lt.Controls.ImageViewerInteractiveMode.rubberBandModeId:e.set_idleCursor(c);
e.set_workingCursor(c);break;case 101:e.set_hitTestStateCursor(b)}}},_initControls:function(){this._imageViewer.beginUpdate();this._imageViewer.set_viewHorizontalAlignment(lt.Controls.ControlAlignment.center);this._imageViewer.set_viewVerticalAlignment(lt.Controls.ControlAlignment.center);this._imageViewer.set_imageHorizontalAlignment(lt.Controls.ControlAlignment.center);this._imageViewer.set_imageVerticalAlignment(lt.Controls.ControlAlignment.center);this._imageViewer.set_useDpi(!0);this._imageViewer.set_tag(this._documentViewer);
this._imageViewer.add_postRenderItem(ss.Delegate.create(this,this._imageViewer_PostRenderItem));this._imageViewer.add_scrollOffsetChanged(ss.Delegate.create(this,this._imageViewer_ScrollOffsetChanged));this._imageViewer.add_activeItemChanged(ss.Delegate.create(this,this._imageViewer_ActiveItemChanged));this._imageViewer.add_transformChanged(ss.Delegate.create(this,this._imageViewer_TransformChanged));this._imageViewer.get_useElements()?this._imageViewer.set_itemSpacing(lt.LeadSizeD.create(10,10)):
(this._imageViewer.set_imageBorderThickness(1),this._imageViewer.set_imageBackgroundColor(lt.Controls.GraphicsHelper.colorFromString("white")),this._imageViewer.set_itemPadding(lt.Controls.PaddingHelper.create(4,4,4,4)));this._imageViewer.set_maximumScaleFactor(64);this._imageViewer.set_minimumScaleFactor(0.1);this._imageViewer.endUpdate()},_doTryUpdateViewImageTags:function(){this._updateViewImageTagTimer=-1;if(this._imageViewer.get_hasSize()){var a=this._imageViewer.getFirstVisibleItem(lt.Controls.ImageViewerItemPart.item),
b=this._imageViewer.getLastVisibleItem(lt.Controls.ImageViewerItemPart.item);null!=a&&null!=b&&(this._viewImageGroupLoader.setImageTags(a,b),null!=this._viewBackImageGroupLoader&&this._viewBackImageGroupLoader.get_isWorking()&&this._viewBackImageGroupLoader.setImageTags(a,b))}},_tryUpdateViewImageTags:function(){return null!=this._viewImageGroupLoader&&this._viewImageGroupLoader.get_isWorking()&&this._imageViewer.get_hasSize()&&null!=this._imageViewer.getFirstVisibleItem(lt.Controls.ImageViewerItemPart.item)?
(-1!==this._updateViewImageTagTimer&&clearTimeout(this._updateViewImageTagTimer),this._updateViewImageTagTimer=setTimeout(ss.Delegate.create(this,this._doTryUpdateViewImageTags),100),!0):!1},_imageViewer_ScrollOffsetChanged:function(){},_imageViewer_TransformChanged:function(){null==this._documentViewer||null==this._imageViewer||this._tryUpdateViewImageTags()},_imageViewer_ActiveItemChanged:function(){if(!(null==this._documentViewer||null==this._imageViewer||null==this._documentViewer.get_thumbnails())){var a=
this._imageViewer.get_activeItem();if(null!=a){var b=a.get_leadIndex();this._documentViewer.get_thumbnails()._ensureSelected(b);this._documentViewer._doGotoPage(this._imageViewer.get_items().indexOf(a)+1,!1,!0)}}},_imageViewer_PostRenderItem:function(a,b){null!=this._documentViewer&&this._documentViewer._postRenderViewItem(a,b)},_viewImageGroupLoader:null,_viewBackImageGroupLoader:null,_startWorking:function(){this._doStartWorking(!0)},_doStartWorking:function(a){this._stopWorking();this._imageViewer.beginUpdate();
if(a)this._imageViewer.get_items().clear(),this._imageViewer.reset();else for(var b=ss.IEnumerator.getEnumerator(this._imageViewer.get_items());b.moveNext();){var c=b.current,d=c.get_imageSize();c.deleteImage();c.set_size(d);c.set_imageSize(d)}this._imageViewer.endUpdate();var f=this._documentViewer.get_document();if(null!=f&&(b=null!=f?f.pages.length:0)){this._itemType=1===this.get_preferredItemType()&&f.images.isSvgViewingPreferred?1:0;if(a){this._imageViewer.beginUpdate();for(var g=1;g<=b;g++)a=
f.pages[g-1],c=new lt.Controls.ImageViewerItem,d=f.sizeToPixels(a.size),c.set_resolution(lt.LeadSizeD.create(a.resolution,a.resolution)),c.set_imageSize(d),c.set_size(c.get_imageSize()),c.set_imageScale(a.imageScale),this._imageViewer.get_items().add(c);this._imageViewer.endUpdate()}if(lt.Documents.UI.DocumentViewerView.get__useVirtualizer())this._createVirtualizer();else if(c=new lt.Documents.UI.DocumentViewerOperationEventArgs(3,null,null,null,0,!1),this._documentViewer.onOperation(c),!c.get_abort()){this._viewImageGroupLoader=
new lt.ImageGroupLoader(b,this._imageViewer.get_imagesDiv());this._viewImageGroupLoader.set_maximumLoadersWorking(this._workerCount);this._viewImageGroupLoader.set_lazyLoad(this._lazyLoad);this._viewBackImageGroupLoader=new lt.ImageGroupLoader(b,this._imageViewer.get_imagesDiv());this._viewBackImageGroupLoader.set_maximumLoadersWorking(this._workerCount);this._viewBackImageGroupLoader.set_lazyLoad(this._lazyLoad);for(var e=null,h=null,i=null,j=null,d=null,g=this._documentViewer.get__documentUseAjaxImageLoading(),
e=ss.Delegate.create(this,function(a){var d=a.get_tag();a.get_isHTMLImageElement()?d.set_image(a.get_element()):d.set_element(a.get_element());null!=d.get_imageViewer()&&(d=d.get_imageViewer().get_items().indexOf(d),this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(4,null,a.get_url(),null,d+1,!0)))}),h=ss.Delegate.create(this,function(a){var d=a.get_tag();1!==a.get_width()&&1!==a.get_height()&&(d.set_backImage(a.get_element()),d=d.get_imageViewer().get_items().indexOf(d),
this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(4,null,a.get_url(),null,d+1,!0)))}),i=ss.Delegate.create(this,function(a){var d=a.get_tag(),d=d.get_imageViewer().get_items().indexOf(d);this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(4,a.get_error(),a.get_url(),null,d+1,!0))}),j=function(a){a.remove_done(e);a.remove_fail(i);a.remove_always(j)},d=function(a){a.remove_done(h);a.remove_fail(i);a.remove_always(j)},l=1===this.get_itemType(),
k=g?lt.ImageLoaderUrlMode.ajaxDataUrl:lt.ImageLoaderUrlMode.imageUrl,o=lt.Documents.DocumentGetSvgOptions.none,m=0;m<b;m++)if(a=f.pages[m],c=this._imageViewer.get_items().get_item(m),null==a||null==c)c=new lt.Documents.UI.DocumentViewerOperationEventArgs(4,Error("Error loading image"),null,null,m+1,!0),this._documentViewer.onOperation(c);else{var n=new lt.ImageLoader;n.set_urlMode(k);var p=l?a.getSvgElement(o,n):a.getImageElement(n);g&&"rejected"===p.state()?(c=new lt.Documents.UI.DocumentViewerOperationEventArgs(4,
Error("Error loading image"),null,null,m+1,!0),this._documentViewer.onOperation(c),n=null):(n.add_done(e),n.add_fail(i),n.add_always(j),n.set_tag(c),this._viewImageGroupLoader.load(n),l&&this.get_useSvgBackImage()&&(n=new lt.ImageLoader,n.set_urlMode(k),a=a.getSvgBackImageElement(this.get_imageViewer().get_imageBackgroundColor(),n),g&&"rejected"===a.state()?(c=new lt.Documents.UI.DocumentViewerOperationEventArgs(4,Error("Error loading image"),null,null,m+1,!0),this._documentViewer.onOperation(c),
n=null):(n.add_done(h),n.add_fail(i),n.add_always(d),n.set_tag(c),this._viewBackImageGroupLoader.load(n))))}this._lazyLoad&&!this._tryUpdateViewImageTags()&&this._imageViewer.get_hasSize()&&(f=this._imageViewer.get_items().get_item(0),b=this._imageViewer.get_items().get_item(Math.min(this._workerCount,b)-1),null!=f&&null!=b&&(null!=this._viewImageGroupLoader&&this._viewImageGroupLoader.get_isWorking()&&this._viewImageGroupLoader.setImageTags(f,b),null!=this._viewBackImageGroupLoader&&this._viewBackImageGroupLoader.get_isWorking()&&
this._viewBackImageGroupLoader.setImageTags(f,b)))}}},_stopWorking:function(){if(lt.Documents.UI.DocumentViewerView.get__useVirtualizer())this._destroyVirtualizer();else if(null!=this._viewImageGroupLoader&&(this._viewImageGroupLoader.dispose(),this._viewImageGroupLoader=null,this._documentViewer.onOperation(new lt.Documents.UI.DocumentViewerOperationEventArgs(3,null,null,null,0,!0))),null!=this._viewBackImageGroupLoader)this._viewBackImageGroupLoader.dispose(),this._viewBackImageGroupLoader=null},
_zoomRatio:1.2,get_zoomRatio:function(){return this._zoomRatio},set_zoomRatio:function(a){if(lt.LeadDoubleTools.isZero(a)||0>a)throw new lt.ArgumentOutOfRangeException("ZoomRatio",a,"Must be a value greater than 0");return this._zoomRatio=a},get_itemType:function(){return this._itemType},get_preferredItemType:function(){return this._preferredItemType},set_preferredItemType:function(a){this._preferredItemType!==a&&(this._preferredItemType=a,this._preferredItemTypeChanged());return a},_preferredItemTypeChanged:function(){if(this._documentViewer.get_hasDocument()){var a=
this._documentViewer.get_document(),b=this.get_preferredItemType(),c=this.get_itemType(),d=c;switch(b){case 1:1!==c&&a.images.isSvgViewingPreferred&&(d=1);break;case 0:c&&(d=0)}d!==c&&(a=new lt.Documents.UI.DocumentViewerOperationEventArgs(7,null,d,null,0,!1),this._documentViewer.onOperation(a),a.get_abort()||(this._itemType=d,this._doStartWorking(!1),a=new lt.Documents.UI.DocumentViewerOperationEventArgs(7,null,d,null,0,!0),this._documentViewer.onOperation(a)))}},runLinkTarget:function(a){lt.Controls.ControlsHelper.checkIfNull(a,
"linkTarget");if(null!=this._imageViewer){var b,c=1;switch(a.pageFitType){case lt.Documents.DocumentPageFitType.fitWidth:b=lt.Controls.ControlSizeMode.fitWidth;break;case lt.Documents.DocumentPageFitType.fitHeight:b=lt.Controls.ControlSizeMode.fitHeight;break;case lt.Documents.DocumentPageFitType.fit:b=lt.Controls.ControlSizeMode.fit;break;case lt.Documents.DocumentPageFitType.fitAlways:b=lt.Controls.ControlSizeMode.fitAlways;break;default:b=lt.Controls.ControlSizeMode.none,0<a.zoomPercent&&100>a.zoomPercent&&
(c=a.zoomPercent/100)}b!==lt.Controls.ControlSizeMode.none&&this._imageViewer.zoom(b,c,this._imageViewer.get_defaultZoomOrigin())}},invalidate:function(a){null!=this._imageViewer&&this._imageViewer.invalidate(a)},_prepareToSave:function(){},dispose:function(){this._destroy(!0)},_createControls:function(a,b){var c=a.get_viewCreateOptions();c.set_parentDiv(a.get_viewContainer());c.set_viewLayout(b);this._imageViewer=new lt.Controls.ImageViewer(c);this._imageViewer.add_imageLoading(ss.Delegate.create(this,
this._imageViewer_ImageLoading));this.set_useSvgBackImage(!0);this._initControls()},_imageViewer_ImageLoading:function(a,b){b.get_imageLoader().set_urlMode(this._documentViewer.get__documentUseAjaxImageLoading()?lt.ImageLoaderUrlMode.ajaxDataUrl:lt.ImageLoaderUrlMode.imageUrl)},_deleteControls:function(){if(null!=this._imageViewer){this._imageViewer.remove_imageLoading(ss.Delegate.create(this,this._imageViewer_ImageLoading));var a=this._imageViewer.get_mainDiv();null!=a&&(a.parentNode.removeChild(a),
this._imageViewer.dispose())}},_createVirtualizer:function(){},_destroyVirtualizer:function(){},_workerCount:4,get_workerCount:function(){return this._workerCount},set_workerCount:function(a){if(this._workerCount!==a){if(1>a)throw new lt.ArgumentOutOfRangeException("WorkerCount",a,"Must be a value greater than or equal to 1");this._workerCount=a;null!=this._viewImageGroupLoader&&this._viewImageGroupLoader.get_isWorking()&&this._viewImageGroupLoader.set_maximumLoadersWorking(this._workerCount);null!=
this._viewBackImageGroupLoader&&this._viewBackImageGroupLoader.get_isWorking()&&this._viewBackImageGroupLoader.set_maximumLoadersWorking(this._workerCount)}return a},_lazyLoad:!1,get_lazyLoad:function(){return this._lazyLoad},set_lazyLoad:function(a){this._lazyLoad!==a&&(this._lazyLoad=a,null!=this._viewImageGroupLoader&&this._viewImageGroupLoader.get_isWorking()&&this._viewImageGroupLoader.set_lazyLoad(this._lazyLoad),null!=this._viewBackImageGroupLoader&&this._viewBackImageGroupLoader.get_isWorking()&&
this._viewBackImageGroupLoader.set_lazyLoad(this._lazyLoad),this._imageViewer_ScrollOffsetChanged(null,null));return a}};Object.defineProperty(lt.Documents.UI.DocumentViewerView.prototype,"documentViewer",{get:lt.Documents.UI.DocumentViewerView.prototype.get_documentViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerView.prototype,"imageViewer",{get:lt.Documents.UI.DocumentViewerView.prototype.get_imageViewer,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerView.prototype,
"useSvgBackImage",{get:lt.Documents.UI.DocumentViewerView.prototype.get_useSvgBackImage,set:lt.Documents.UI.DocumentViewerView.prototype.set_useSvgBackImage,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerView.prototype,"zoomRatio",{get:lt.Documents.UI.DocumentViewerView.prototype.get_zoomRatio,set:lt.Documents.UI.DocumentViewerView.prototype.set_zoomRatio,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerView.prototype,"itemType",
{get:lt.Documents.UI.DocumentViewerView.prototype.get_itemType,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerView.prototype,"preferredItemType",{get:lt.Documents.UI.DocumentViewerView.prototype.get_preferredItemType,set:lt.Documents.UI.DocumentViewerView.prototype.set_preferredItemType,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerView.prototype,"workerCount",{get:lt.Documents.UI.DocumentViewerView.prototype.get_workerCount,
set:lt.Documents.UI.DocumentViewerView.prototype.set_workerCount,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI.DocumentViewerView.prototype,"lazyLoad",{get:lt.Documents.UI.DocumentViewerView.prototype.get_lazyLoad,set:lt.Documents.UI.DocumentViewerView.prototype.set_lazyLoad,enumerable:!0,configurable:!0});lt.Documents.UI.DocumentViewerFactory=function(){};lt.Documents.UI.DocumentViewerFactory.createDocumentViewer=function(a){return new lt.Documents.UI.DocumentViewer(a)};lt.Documents.UI._documentViewerHelper=
function(){};lt.Documents.UI._documentViewerHelper.setItemImage=function(a,b,c){a.set_url(Type.safeCast(b,String));a.set_backImageUrl(Type.safeCast(c,String))};lt.Documents.UI._documentViewerHelper.getDocumentCharacterCodeAsString=function(a){return a.code};lt.Documents.UI._documentViewerHelper.parseInt=function(a){return parseInt(a)};lt.Documents.UI._documentViewerHelper.getCursor=function(a){switch(a){case 1:return"pointer";case 2:return"crosshair";case 3:return"zoom-in";case 4:return"text";case 5:return"default";
default:return"auto"}};lt.Documents.UI._documentViewerHelper.flatSvg=function(){};lt.Documents.UI._invoker=function(){};lt.Documents.UI._invoker.beginInvoke0=function(a,b){b()};lt.Documents.UI._invoker.beginInvoke1=function(a,b,c){b(c)};lt.Documents.UI._invoker.beginInvoke2=function(a,b,c,d){b(c,d)};lt.Documents.UI._annotationsWorker=function(){lt.Documents.UI._annotationsWorker.initializeBase(this);this.set_maximumPostProcessingCount(1);this.set_autoPostProcessCompleted(!0)};lt.Documents.UI._annotationsWorker.prototype=
{destroy:function(a){a&&this.stop();lt.Documents.UI._annotationsWorker.callBaseMethod(this,"destroy",[a])},_document$1:null,start:function(a){this._document$1=a;null!=this._document$1&&this.startWork(1)},stop:function(){this.stopWork();this._document$1=null},processItem:function(a){try{var b=this._document$1.annotations.getAnnotations(!0);return new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,0,b,null,null)}catch(c){return new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,a,null,null,
c)}},completeIteration:function(a,b){var c=a.get_data1();null==c||this.get_isCancelPending()||this!==a.get__itemsWorker()?b(a):(c.done(function(d){try{null!=d?a.set_data1(d):a.set_data1(null),b(a)}catch(c){a.set_data1(null),a.set_error(c),b(a)}}),c.fail(function(d){d=lt.Documents.ServiceError.parseError(d,"error",Type.safeCast(d.statusText,String));d=d.isParseError?d.errorThrown:d.detail;a.set_data1(null);a.set_error(Error(d));b(a)}))}};lt.Documents.UI._textReviewDrawDesigner=function(a,b,c){this._begin$2=
lt.LeadPointD.get_empty();this._end$2=lt.LeadPointD.get_empty();lt.Documents.UI._textReviewDrawDesigner.initializeBase(this,[a,b,c])};lt.Documents.UI._textReviewDrawDesigner.prototype={_documentViewer$2:null,get_documentViewer:function(){return this._documentViewer$2},set_documentViewer:function(a){return this._documentViewer$2=a},onPointerDown:function(a,b){var c=lt.Documents.UI._textReviewDrawDesigner.callBaseMethod(this,"onPointerDown",[a,b]);if(b.get_button()!==lt.Annotations.Core.AnnMouseButton.left||
b.get_button()!==lt.Annotations.Core.AnnMouseButton.left)return c;var d=this._documentViewer$2.get_currentPageNumber();if(this._documentViewer$2.get_text().hasDocumentPageText(d))this.startWorking();else return this._documentViewer$2.get_text().getDocumentPageText(d),c;this._end$2=this._begin$2=b.get_location();return!0},onPointerMove:function(a,b){if(!this.get_hasStarted()||null==this._documentViewer$2||null==this.get_targetObject()||!this.get_isMouseLeftButtonDown())return!1;var c=b.get_location();
if(c.get_x()!==this._end$2.get_x()||c.get_y()!==this._end$2.get_y()){this._end$2=c;if(null!=this._documentViewer$2){var c=this.get_container(),d=c.get_mapper().pointFromContainerCoordinates(this._begin$2,lt.Annotations.Core.AnnFixedStateOperations.none),f=c.get_mapper().pointFromContainerCoordinates(this._end$2,lt.Annotations.Core.AnnFixedStateOperations.none);this._documentViewer$2.get_text()._trySelect(c.get_pageNumber(),d,f,3,null)}this.working()}return!0},onPointerUp:function(a,b){var c=lt.Documents.UI._textReviewDrawDesigner.callBaseMethod(this,
"onPointerUp",[a,b]);if(null==this._documentViewer$2||b.get_button()!==lt.Annotations.Core.AnnMouseButton.left||null==this.get_targetObject())return c;if(null!=this._documentViewer$2){var c=this.get_container(),d=c.get_mapper().pointFromContainerCoordinates(this._begin$2,lt.Annotations.Core.AnnFixedStateOperations.none),f=c.get_mapper().pointFromContainerCoordinates(this._end$2,lt.Annotations.Core.AnnFixedStateOperations.none);this._documentViewer$2.get_text()._trySelect(c.get_pageNumber(),d,f,4,
null);d=Type.safeCast(this.get_targetObject(),lt.Annotations.Core.AnnTextReviewObject);null!=d?this._documentViewer$2.get_annotations().selectedTextToReviewObject(c.get_pageNumber(),d)?this.endWorking():this.cancel():this.cancel()}else this.cancel();this._documentViewer$2=null;return!1}};lt.Documents.UI._bookmarksWorker=function(){lt.Documents.UI._bookmarksWorker.initializeBase(this);this.set_maximumPostProcessingCount(1);this.set_autoPostProcessCompleted(!0)};lt.Documents.UI._bookmarksWorker.prototype=
{destroy:function(a){a&&this.stop();lt.Documents.UI._bookmarksWorker.callBaseMethod(this,"destroy",[a])},_document$1:null,start:function(a){this._document$1=a;null!=this._document$1&&this.startWork(1)},stop:function(){this.stopWork();this._document$1=null},processItem:function(a){try{return null!=this._document$1&&this._document$1.isStructureSupported&&!this._document$1.structure.isParsed?new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,a,this._document$1.structure.parse(),null,null):new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,
a,null,null,null)}catch(b){return new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,a,null,null,b)}},completeIteration:function(){}};lt.Documents.UI._annotationsCommands=function(){};lt.Documents.UI._annotationsCommands.add=function(a){a["Annotations.Undo"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Undo",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canUndo()},function(a,b,c){if(!b.preRun(a,c))return null;var e=a.get_annotations(),
e=null!=e?e.get_automation():null;null!=e&&e.undo();b.postRun(a,c);return null},null);a["Annotations.Redo"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Redo",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canRedo()},function(a,b,c){if(!b.preRun(a,c))return null;var e=a.get_annotations(),e=null!=e?e.get_automation():null;null!=e&&e.redo();b.postRun(a,c);return null},null);a["Annotations.Cut"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Cut",
function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canCopy()},function(a,b,c){if(!b.preRun(a,c))return null;var e=a.get_annotations(),e=null!=e?e.get_automation():null;null!=e&&(e.copy(),e.deleteSelectedObjects());b.postRun(a,c);return null},null);a["Annotations.Copy"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Copy",function(a){if(!a.get_hasDocument())return!1;a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canCopy()},
function(a,b,c){if(!b.preRun(a,c))return null;var e=a.get_annotations(),e=null!=e?e.get_automation():null;null!=e&&e.get_canCopy()&&e.copy();b.postRun(a,c);return null},null);a["Annotations.Paste"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Paste",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canPaste()},function(a,b,c){if(!b.preRun(a,c))return null;var e=lt.Documents.UI._commandHelper.getPointParameter(c,lt.LeadPointD.get_empty());a.get_annotations()._paste(e);
b.postRun(a,c);return null},null);a["Annotations.Delete"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Delete",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canDeleteObjects()},function(a,b,c){if(!b.preRun(a,c))return null;var e=a.get_annotations(),e=null!=e?e.get_automation():null;null!=e&&e.deleteSelectedObjects();b.postRun(a,c);return null},null);a["Annotations.SelectAll"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.SelectAll",
function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canSelectObjects()},function(a,b,c){if(!b.preRun(a,c))return null;var e=a.get_annotations(),h=lt.Documents.UI._commandHelper.getIntParamater(c,0);e._selectAll(h);b.postRun(a,c);return null},null);a["Annotations.ClearSelection"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.ClearSelection",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canSelectNone()},function(a,
b,c){if(!b.preRun(a,c))return null;a.get_annotations()._deselect();b.postRun(a,c);return null},null);var b=function(a,b){var c=a.get_annotations(),c=null!=c?c.get_automationManager():null;return null!=c&&c.get_userMode()!==b.get_tag()},c=function(a,b,c){if(!b.preRun(a,c))return null;var e=a.get_annotations(),e=null!=e?e.get_automationManager():null;null!=e&&e.set_userMode(b.get_tag());b.postRun(a,c);return null};a["Annotations.UserModeDesign"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.UserModeDesign",
b,c,lt.Annotations.Core.AnnUserMode.design);a["Annotations.UserModeRun"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.UserModeRun",b,c,lt.Annotations.Core.AnnUserMode.run);a["Annotations.UserModeRender"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.UserModeRender",b,c,lt.Annotations.Core.AnnUserMode.render);a["Annotations.BringToFront"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.BringToFront",function(a){a=a.get_annotations();a=null!=a?a.get_automation():
null;return null!=a&&a.get_canBringToFront()},function(a,b,c){if(!b.preRun(a,c))return null;var e=a.get_annotations(),e=null!=e?e.get_automation():null;null!=e&&e.bringToFront(!1);b.postRun(a,c);return null},null);a["Annotations.SendToBack"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.SendToBack",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canSendToBack()},function(a,b,c){if(!b.preRun(a,c))return null;var e=a.get_annotations(),e=null!=e?
e.get_automation():null;null!=e&&e.sendToBack(!1);b.postRun(a,c);return null},null);a["Annotations.BringToFirst"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.BringToFirst",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canBringToFirst()},function(a,b,c){if(!b.preRun(a,c))return null;var e=a.get_annotations(),e=null!=e?e.get_automation():null;null!=e&&e.bringToFront(!0);b.postRun(a,c);return null},null);a["Annotations.SendToLast"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.SendToLast",
function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canSendToLast()},function(a,b,c){if(!b.preRun(a,c))return null;var e=a.get_annotations(),e=null!=e?e.get_automation():null;null!=e&&e.sendToBack(!0);b.postRun(a,c);return null},null);a["Annotations.Flip"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Flip",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canFlip()},function(a,b,c){if(!b.preRun(a,c))return null;
var e=a.get_annotations(),e=null!=e?e.get_automation():null;null!=e&&e.flip(!1);b.postRun(a,c);return null},null);a["Annotations.Reverse"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Reverse",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canFlip()},function(a,b,c){if(!b.preRun(a,c))return null;var e=a.get_annotations(),e=null!=e?e.get_automation():null;null!=e&&e.flip(!0);b.postRun(a,c);return null},null);a["Annotations.Group"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Group",
function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canGroup()},function(a,b,c){if(!b.preRun(a,c))return null;var e=a.get_annotations(),h;h=null!=c?c.toString():String.format("Group");e.groupSelectedObjects(h);b.postRun(a,c);return null},null);a["Annotations.Ungroup"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Ungroup",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canUngroup()},function(a,b,c){if(!b.preRun(a,
c))return null;a.get_annotations().ungroupSelectedObjects();b.postRun(a,c);return null},null);a["Annotations.Lock"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Lock",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canLock()},function(a,b,c){if(!b.preRun(a,c))return null;var e=a.get_annotations(),e=null!=e?e.get_automation():null;null!=e&&e.lock();b.postRun(a,c);return null},null);a["Annotations.Unlock"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Unlock",
function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canUnlock()},function(a,b,c){if(!b.preRun(a,c))return null;var e=a.get_annotations(),e=null!=e?e.get_automation():null;null!=e&&e.unlock();b.postRun(a,c);return null},null);a["Annotations.ResetRotatePoints"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.ResetRotatePoints",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canResetRotatePoints()},function(a,
b,c){if(!b.preRun(a,c))return null;var e=a.get_annotations(),e=null!=e?e.get_automation():null;null!=e&&e.resetRotatePoints();b.postRun(a,c);return null},null);a["Annotations.AntiAlias"]=lt.Documents.UI.DocumentViewerCommand._createState("Annotations.AntiAlias",function(a,b){var c=a.get_annotations(),c=null!=c?c.get_automation():null;return null!=c&&null!=c.get_automationControl()?(b.set_state(c.get_automationControl().get_automationAntiAlias()),!0):!1},function(a,b,c){if(!b.preRun(a,c))return null;
var e=a.get_annotations(),e=null!=e?e.get_automation():null;null!=e&&null!=e.get_automationControl()&&e.get_automationControl().set_automationAntiAlias(!e.get_automationControl().get_automationAntiAlias());b.postRun(a,c);return null},null,!1);a["Annotations.Properties"]=lt.Documents.UI.DocumentViewerCommand._create("Annotations.Properties",function(a){a=a.get_annotations();a=null!=a?a.get_automation():null;return null!=a&&a.get_canShowObjectProperties()},function(a,b,c){if(!b.preRun(a,c))return null;
var e=a.get_annotations(),e=null!=e?e.get_automation():null;null!=e&&e.showObjectProperties();b.postRun(a,c);return null},null);a["Annotations.UseRotateThumbs"]=lt.Documents.UI.DocumentViewerCommand._createState("Annotations.UseRotateThumbs",function(a,b){var c=a.get_annotations();if(null==c)return!1;b.set_state(c.get_useRotateThumbs());return!0},function(a,b,c){if(!b.preRun(a,c))return null;var e=a.get_annotations();null!=e&&e.set_useRotateThumbs(!e.get_useRotateThumbs());b.postRun(a,c);return null},
null,!0);a["Annotations.EnableToolTips"]=lt.Documents.UI.DocumentViewerCommand._createState("Annotations.EnableToolTips",function(a,b){var c=a.get_annotations();if(null==c)return!1;c=c.get_automationManager();return null!=c?(b.set_state(c.get_enableToolTip()),!0):!1},function(a,b,c){if(!b.preRun(a,c))return null;var e=a.get_annotations();null!=e&&(e=e.get_automationManager(),null!=e&&e.set_enableToolTip(!e.get_enableToolTip()));b.postRun(a,c);return null},null,!0);a["Annotations.RenderOnThumbnails"]=
lt.Documents.UI.DocumentViewerCommand._createState("Annotations.RenderOnThumbnails",function(a,b){var c=a.get_annotations();if(null==c)return!1;b.set_state(c.get_renderOnThumbnails());return!0},function(a,b,c){if(!b.preRun(a,c))return null;var e=a.get_annotations();null!=e&&e.set_renderOnThumbnails(!e.get_renderOnThumbnails());b.postRun(a,c);return null},null,!0)};lt.Documents.UI._commandHelper=function(){};lt.Documents.UI._commandHelper.initCommands=function(a){lt.Documents.UI._textCommands.add(a);
lt.Documents.UI._viewCommands.add(a);lt.Documents.UI._pageCommands.add(a);lt.Documents.UI._layoutCommands.add(a);lt.Documents.UI._interactiveCommands.add(a);lt.Documents.UI._annotationsCommands.add(a)};lt.Documents.UI._commandHelper.getDoubleParamater=function(a,b){return null==a?b:a};lt.Documents.UI._commandHelper.getIntParamater=function(a,b){return null==a?b:a};lt.Documents.UI._commandHelper.getPointParameter=function(a,b){return null==a?b:a};lt.Documents.UI._interactiveCommands=function(){};lt.Documents.UI._interactiveCommands.add=
function(a){var b=function(a,b){return!Type.safeCast(b.get_tag(),lt.Controls.ImageViewerInteractiveMode).get_isEnabled()},c=function(a,b,c){if(!b.preRun(a,c))return null;var d=Type.safeCast(b.get_tag(),lt.Controls.ImageViewerInteractiveMode),f=a.get_view().get_imageViewer();f.get_interactiveModes().beginUpdate();for(var l=ss.IEnumerator.getEnumerator(f.get_interactiveModes());l.moveNext();){var k=l.current;switch(k.get_id()){case lt.Controls.ImageViewerInteractiveMode.autoPanModeId:var o=a.get_commands().getCommand("Interactive.AutoPan");
k.set_isEnabled(null!=b?o.get_state():!1);break;case 100:case 101:switch(d.get_id()){case lt.Controls.ImageViewerInteractiveMode.magnifyGlassModeId:k.set_isEnabled(!1);break;default:k.set_isEnabled(!0)}break;default:k.set_isEnabled(k===d)}}f.get_interactiveModes().endUpdate();null!=a.get_annotations()&&a.get_annotations()._ensureSelectObject();b.postRun(a,c);return null},d=new lt.Controls.ImageViewerPanZoomInteractiveMode;d.set_isKeyboardEnabled(!0);a["Interactive.PanZoom"]=lt.Documents.UI.DocumentViewerCommand._create("Interactive.PanZoom",
b,c,d);d=new lt.Controls.ImageViewerPanZoomInteractiveMode;d.set_enableZoom(!1);d.set_enablePinchZoom(!1);d.set_doubleTapSizeMode(lt.Controls.ControlSizeMode.none);a["Interactive.Pan"]=lt.Documents.UI.DocumentViewerCommand._create("Interactive.Pan",b,c,d);d=new lt.Controls.ImageViewerPanZoomInteractiveMode;d.set_enablePan(!1);d.set_zoomKeyModifier(lt.Controls.Keys.none);d.set_enableZoom(!0);d.set_enablePinchZoom(!0);d.set_doubleTapSizeMode(lt.Controls.ControlSizeMode.none);a["Interactive.Zoom"]=lt.Documents.UI.DocumentViewerCommand._create("Interactive.Zoom",
b,c,d);var f=new lt.Controls.ImageViewerZoomToInteractiveMode;f.add_workCompleted(function(){var a=Type.safeCast(f.get_imageViewer().get_tag(),lt.Documents.UI.DocumentViewer);null!=a&&a.get_commands().run("Interactive.SelectText",null)});a["Interactive.ZoomTo"]=lt.Documents.UI.DocumentViewerCommand._create("Interactive.ZoomTo",b,c,f);d=new lt.Controls.ImageViewerMagnifyGlassInteractiveMode;a["Interactive.MagnifyGlass"]=lt.Documents.UI.DocumentViewerCommand._create("Interactive.MagnifyGlass",b,c,d);
d=new lt.Controls.ImageViewerRubberBandInteractiveMode;a["Interactive.RubberBand"]=lt.Documents.UI.DocumentViewerCommand._create("Interactive.RubberBand",b,c,d);d=new lt.Documents.UI.DocumentViewerSelectTextInteractiveMode;a["Interactive.SelectText"]=lt.Documents.UI.DocumentViewerCommand._create("Interactive.SelectText",b,c,d);a["Interactive.AutoPan"]=lt.Documents.UI.DocumentViewerCommand._createState("Interactive.AutoPan",function(a,b){var c=null;null!=a.get_view().get_imageViewer()&&(c=a.get_view().get_imageViewer().get_interactiveModes().findById(lt.Controls.ImageViewerInteractiveMode.autoPanModeId));
return null!=c?(b.set_state(c.get_isEnabled()),!0):!1},function(a,b,c){if(!b.preRun(a,c))return null;var d=null;null!=a.get_view().get_imageViewer()&&(d=a.get_view().get_imageViewer().get_interactiveModes().findById(lt.Controls.ImageViewerInteractiveMode.autoPanModeId));null!=d&&d.set_isEnabled(!d.get_isEnabled());b.postRun(a,c);return null},null,!0)};lt.Documents.UI._layoutCommands=function(){};lt.Documents.UI._layoutCommands.add=function(a){var b=function(a,b){return a.get_view().get_imageViewer().get_viewLayout()!==
b.get_tag()},c=function(a,b,c){if(!b.preRun(a,c))return null;var d=a.get_view().get_imageViewer();d.set_viewLayout(Type.safeCast(b.get_tag(),lt.Controls.ImageViewerViewLayout));d.beginUpdate();null!=d.get_activeItem()&&d.gotoItem(d.get_activeItem());d.zoom(lt.Controls.ControlSizeMode.fit,1,d.get_defaultZoomOrigin());d.endUpdate();b.postRun(a,c);return null},d=new lt.Controls.ImageViewerSingleViewLayout,f=new lt.Controls.ImageViewerVerticalViewLayout;f.set_columns(1);var g=new lt.Controls.ImageViewerVerticalViewLayout;
g.set_columns(2);var e=new lt.Controls.ImageViewerHorizontalViewLayout;e.set_rows(1);a["Layout.Single"]=lt.Documents.UI.DocumentViewerCommand._create("Layout.Single",b,c,d);a["Layout.Vertical"]=lt.Documents.UI.DocumentViewerCommand._create("Layout.Vertical",b,c,f);a["Layout.Double"]=lt.Documents.UI.DocumentViewerCommand._create("Layout.Double",b,c,g);a["Layout.Horizontal"]=lt.Documents.UI.DocumentViewerCommand._create("Layout.Horizontal",b,c,e)};lt.Documents.UI._pageCommands=function(){};lt.Documents.UI._pageCommands._getPageNumber=
function(a,b){if(!a.get_hasDocument())return 0;switch(b){case 0:return 1;case 2:return a.get_currentPageNumber()-1;case 3:return a.get_currentPageNumber()+1;case 1:return a.get_pageCount();default:return 1}};lt.Documents.UI._pageCommands.add=function(a){a["Page.GoTo"]=lt.Documents.UI.DocumentViewerCommand._create("Page.GoTo",function(a){return 1<a.get_view().get_imageViewer().get_items().get_count()},function(a,b,c){if(!b.preRun(a,c))return null;var e=lt.Documents.UI._commandHelper.getIntParamater(c,
1);a.gotoPage(e);b.postRun(a,c);return null},null);var b=function(a,b){var c=a.get_view().get_imageViewer(),e=0<c.get_items().get_count();e&&(e=lt.Documents.UI._pageCommands._getPageNumber(a,b.get_tag()),e=0<e&&e<=c.get_items().get_count()&&e!==a.get_currentPageNumber());return e},c=function(a,b,c){if(!b.preRun(a,c))return null;var e=lt.Documents.UI._pageCommands._getPageNumber(a,b.get_tag());a.gotoPage(e);b.postRun(a,c);return null};a["Page.First"]=lt.Documents.UI.DocumentViewerCommand._create("Page.First",
b,c,0);a["Page.Previous"]=lt.Documents.UI.DocumentViewerCommand._create("Page.Previous",b,c,2);a["Page.Next"]=lt.Documents.UI.DocumentViewerCommand._create("Page.Next",b,c,3);a["Page.Last"]=lt.Documents.UI.DocumentViewerCommand._create("Page.Last",b,c,1)};lt.Documents.UI._textCommands=function(){};lt.Documents.UI._textCommands.add=function(a){a["Text.Copy"]=lt.Documents.UI.DocumentViewerCommand._create("Text.Copy",function(a,b,f){if(!a.get_hasDocument())return!1;b=lt.Documents.UI._commandHelper.getIntParamater(f,
0);return a.get_text().hasSelectedText(b)},function(a,b,f){if(!b.preRun(a,f))return null;var g=lt.Documents.UI._commandHelper.getIntParamater(f,0);a.get_text().copy(g);b.postRun(a,f);return null},null);a["Text.SelectAll"]=lt.Documents.UI.DocumentViewerCommand._createSlow("Text.SelectAll",function(a){return a.get_hasDocument()},function(a,b,f){if(!b.preRun(a,f))return null;var g=lt.Documents.UI._commandHelper.getIntParamater(f,0);a.get_text().selectAll(g);b.postRun(a,f);return null},function(a,b,f){if(!a.get_text().get_autoGetText())return!1;
b=lt.Documents.UI._commandHelper.getIntParamater(f,0);return!a.get_text().hasDocumentPageText(b)},null);a["Text.ClearSelection"]=lt.Documents.UI.DocumentViewerCommand._create("Text.ClearSelection",function(a,b,f){b=lt.Documents.UI._commandHelper.getIntParamater(f,0);return a.get_text().hasSelectedText(b)},function(a,b,f){if(!b.preRun(a,f))return null;var g=lt.Documents.UI._commandHelper.getIntParamater(f,0);a.get_text().clearSelection(g);b.postRun(a,f);return null},null);a["Text.Export"]=lt.Documents.UI.DocumentViewerCommand._createSlow("Text.Export",
function(a){return a.get_hasDocument()},function(a,b,f){if(!b.preRun(a,f))return null;var g=lt.Documents.UI._commandHelper.getIntParamater(f,0),g=a.get_text().exportText(g);b.postRun(a,f);return g},function(a,b,f){b=lt.Documents.UI._commandHelper.getIntParamater(f,0);return!a.get_text().hasDocumentPageText(b)},null);var b=function(a,b,f){if(b=!a.get_text().hasDocumentPageText(0))f=lt.Documents.UI._commandHelper.getIntParamater(f,0),null!=a.get_text().get_lastFindText()&&!a.get_text().get_lastFindText().get_gotoNextPage()&&
a.get_text().hasDocumentPageText(f)&&(b=!1);return b};a["Text.FindNext"]=lt.Documents.UI.DocumentViewerCommand._createSlow("Text.FindNext",function(a){return a.get_hasDocument()&&null!=a.get_text().get_lastFindText()},function(a,b,f){if(!b.preRun(a,f))return null;var g=a.get_text(),g=g.find(g.get_lastFindText(),!1,!0);b.postRun(a,f);return g},b,null);a["Text.FindPrevious"]=lt.Documents.UI.DocumentViewerCommand._createSlow("Text.FindPrevious",function(a){return a.get_hasDocument()&&null!=a.get_text().get_lastFindText()},
function(a,b,f){if(!b.preRun(a,f))return null;var g=a.get_text(),g=g.find(g.get_lastFindText(),!1,!1);b.postRun(a,f);return g},b,null);a["Text.Get"]=lt.Documents.UI.DocumentViewerCommand._create("Text.Get",function(a,b,f){b=lt.Documents.UI._commandHelper.getIntParamater(f,0);return a.get_hasDocument()&&!a.get_text().hasDocumentPageText(b)},function(a,b,f){if(!b.preRun(a,f))return null;var g=lt.Documents.UI._commandHelper.getIntParamater(f,0);g?a.get_text()._doGetDocumentPageText(g,!0,null):a.get_text().getAllDocumentPageText();
b.postRun(a,f);return null},null)};lt.Documents.UI._viewCommands=function(){};lt.Documents.UI._viewCommands._addZoom=function(a){var b=function(a,b){var c=a.get_view(),e=b.get_tag();return e?1===e?c.get_imageViewer().get_scaleFactor()*c.get_zoomRatio()<c.get_imageViewer().get_maximumScaleFactor():!1:c.get_imageViewer().get_scaleFactor()/c.get_zoomRatio()<c.get_imageViewer().get_maximumScaleFactor()},c=function(a,b,c){if(!b.preRun(a,c))return null;var e=a.get_view(),h=e.get_imageViewer(),i=h.get_scaleFactor(),
j=b.get_tag();j?1===j&&(i*=e.get_zoomRatio()):i/=e.get_zoomRatio();h.zoom(lt.Controls.ControlSizeMode.none,i,h.get_defaultZoomOrigin());b.postRun(a,c);return null};a["View.ZoomOut"]=lt.Documents.UI.DocumentViewerCommand._create("View.ZoomOut",b,c,0);a["View.ZoomIn"]=lt.Documents.UI.DocumentViewerCommand._create("View.ZoomIn",b,c,1);a["View.ZoomPercentage"]=lt.Documents.UI.DocumentViewerCommand._create("View.ZoomPercentage",function(a,b,c){a=lt.Documents.UI._commandHelper.getDoubleParamater(c,0);return lt.LeadDoubleTools.isZero(a)?
!1:!0},function(a,b,c){if(!b.preRun(a,c))return null;var e=lt.Documents.UI._commandHelper.getDoubleParamater(c,0);if(lt.LeadDoubleTools.isZero(e))return null;var h=a.get_view().get_imageViewer();h.zoom(lt.Controls.ControlSizeMode.none,e/100,h.get_defaultZoomOrigin());b.postRun(a,c);return null},1);b=function(a,b){var c=a.get_view().get_imageViewer(),e=b.get_tag();return e===lt.Controls.ControlSizeMode.actualSize?1!==c.get_scaleFactor():c.get_sizeMode()!==e};c=function(a,b,c){if(!b.preRun(a,c))return null;
var e=a.get_view().get_imageViewer(),h=b.get_tag();e.zoom(h,1,e.get_defaultZoomOrigin());b.postRun(a,c);return null};a["View.FitWidth"]=lt.Documents.UI.DocumentViewerCommand._create("View.FitWidth",b,c,lt.Controls.ControlSizeMode.fitWidth);a["View.FitPage"]=lt.Documents.UI.DocumentViewerCommand._create("View.FitPage",b,c,lt.Controls.ControlSizeMode.fitHeight);a["View.ActualSize"]=lt.Documents.UI.DocumentViewerCommand._create("View.ActualSize",b,c,lt.Controls.ControlSizeMode.actualSize)};lt.Documents.UI._viewCommands._addRotate=
function(a){var b=function(){return!0},c=function(a,b,c){if(!b.preRun(a,c))return null;var e=a.get_view().get_imageViewer(),h=b.get_tag();e.set_rotateAngle(e.get_rotateAngle()+h);e=a.get_thumbnails();null!=e&&e.get_imageViewer().set_rotateAngle(e.get_imageViewer().get_rotateAngle()+h);b.postRun(a,c);return null};a["View.RotateClockwise"]=lt.Documents.UI.DocumentViewerCommand._create("View.RotateClockwise",b,c,90);a["View.RotateCounterClockwise"]=lt.Documents.UI.DocumentViewerCommand._create("View.RotateCounterClockwise",
b,c,-90)};lt.Documents.UI._viewCommands._addMisc=function(a){a["View.ItemType"]=lt.Documents.UI.DocumentViewerCommand._create("View.ItemType",function(a,c,d){return a.get_view().get_itemType()!==d},function(a,c,d){if(!c.preRun(a,d))return null;a.get_view().set_preferredItemType(d);c.postRun(a,d);return null},null)};lt.Documents.UI._viewCommands.add=function(a){lt.Documents.UI._viewCommands._addRotate(a);lt.Documents.UI._viewCommands._addZoom(a);lt.Documents.UI._viewCommands._addMisc(a)};lt.Documents.UI._internalFindTextResult=
function(){this.lastCharacterIndex=this.firstCharacterIndex=-1};lt.Documents.UI._internalFindTextResult.prototype={startIndex:0,clone:function(){var a=new lt.Documents.UI._internalFindTextResult;a.startIndex=this.startIndex;a.firstCharacterIndex=this.firstCharacterIndex;a.lastCharacterIndex=this.lastCharacterIndex;return a}};lt.Documents.UI._thumbnailsGrid=function(){this._rects=[]};lt.Documents.UI._thumbnailsGrid.getGridIndexForPage=function(a,b){var c=-1;if(null!=a&&0<a.length)for(var d=0;d<a.length&&
-1===c;d++)b>=a[d].get_firstPageNumber()&&b<=a[d].get_lastPageNumber()&&(c=d);return c};lt.Documents.UI._thumbnailsGrid.getGridForPage=function(a,b){var c=null;if(null!=a&&0<a.length)for(var d=0;d<a.length&&null==c;d++)b>=a[d].get_firstPageNumber()&&b<=a[d].get_lastPageNumber()&&(c=a[d]);return c};lt.Documents.UI._thumbnailsGrid.getGridImageRectForPage=function(a,b){return a.get_rects()[b-a.get_firstPageNumber()]};lt.Documents.UI._thumbnailsGrid.deleteGrid=function(a){if(null!=a&&a.length)for(;0<
a.length;)a[0].dispose(),a.removeAt(0)};lt.Documents.UI._thumbnailsGrid.prototype={_firstPageNumber:0,get_firstPageNumber:function(){return this._firstPageNumber},set_firstPageNumber:function(a){return this._firstPageNumber=a},_lastPageNumber:0,get_lastPageNumber:function(){return this._lastPageNumber},set_lastPageNumber:function(a){return this._lastPageNumber=a},_rows:0,get_rows:function(){return this._rows},set_rows:function(a){return this._rows=a},_columns:0,get_columns:function(){return this._columns},
set_columns:function(a){return this._columns=a},get_rects:function(){return this._rects},_image:null,get_image:function(){return this._image},set_image:function(a){return this._image=a},_destroy:function(a){a&&(this._image=null)},dispose:function(){this._destroy(!0)}};lt.Documents.UI._thumbnailsWorker=function(a,b,c){lt.Documents.UI._thumbnailsWorker.initializeBase(this);this._useThumbnailsGrid$1=a;this._gridPixelSize$1=b;this._init$1(c)};lt.Documents.UI._thumbnailsWorker._getThumbnailSize=function(a,
b){if(a.get_isEmpty()||!a.get_width()||!a.get_height())return lt.LeadSizeD.create(0,0);var c=parseInt(lt.Documents.Document.documentToPixels(96,a.get_width())),d=parseInt(lt.Documents.Document.documentToPixels(96,a.get_height())),f=lt.LeadRectD.create(0,0,b.get_width(),b.get_height()),f=lt.Controls.ImageViewer.getDestinationRectangle(c,d,f,lt.Controls.ControlSizeMode.fit,lt.Controls.ControlAlignment.near,lt.Controls.ControlAlignment.near);return 1>f.get_width()||1>f.get_height()?lt.LeadSizeD.create(0,
0):lt.LeadSizeD.create(f.get_width(),f.get_height())};lt.Documents.UI._thumbnailsWorker.prototype={destroy:function(a){a&&this.stop();lt.Documents.UI._thumbnailsWorker.callBaseMethod(this,"destroy",[a])},_document$1:null,_useThumbnailsGrid$1:!1,get_useThumbnailsGrid:function(){return this._useThumbnailsGrid$1},_grids$1:null,get_grids:function(){return this._grids$1},set_grids:function(a){this._grids$1=null;return a},_gridPixelSize$1:0,_thumbSize$1:null,start:function(a){this._document$1=a;if(null!=
this._document$1&&this._document$1.pages.length)if(this._useThumbnailsGrid$1){this._thumbSize$1=a.images.thumbnailPixelSize;var a=this._document$1.pages.length,b=lt.Documents.UI._documentViewerHelper.parseInt(this._gridPixelSize$1*this._gridPixelSize$1/(parseInt(this._thumbSize$1.get_width())*parseInt(this._thumbSize$1.get_height())));1>b&&(b=1);var c=parseInt(a/b);a%b&&c++;this._grids$1=[];var d=1,f=0;do{var f=Math.min(a,d+b-1),g=lt.Documents.UI._documentViewerHelper.parseInt(Math.max(1,0<this._gridPixelSize$1?
this._gridPixelSize$1/parseInt(this._thumbSize$1.get_width()):a)),e=lt.Documents.UI._documentViewerHelper.parseInt(a/g);a%g&&e++;if(f>=d){var h=new lt.Documents.UI._thumbnailsGrid;h.set_firstPageNumber(d);h.set_lastPageNumber(f);h.set_image(null);h.set_columns(g);for(var i=0,j=0;j<e&&d<=f;j++){for(var l=0;l<g&&d<=f;l++){var k=lt.Documents.UI._thumbnailsWorker._getThumbnailSize(this._document$1.pages[d-1].size,this._thumbSize$1),o=lt.LeadRectD.create(l*this._thumbSize$1.get_width(),j*this._thumbSize$1.get_height(),
this._thumbSize$1.get_width(),this._thumbSize$1.get_height()),o=lt.Controls.ImageViewer.getDestinationRectangle(parseInt(k.get_width()),parseInt(k.get_height()),o,lt.Controls.ControlSizeMode.fit,lt.Controls.ControlAlignment.center,lt.Controls.ControlAlignment.center);h.get_rects().add(o);d++}i++}h.set_columns(g);h.set_rows(i);this._grids$1.add(h);d=f+1}}while(f<a);this.startWork(c)}else this.startWork(this._document$1.pages.length)},stop:function(){this.stopWork();this._useThumbnailsGrid$1&&null!=
this._grids$1&&(this.beginLockGrids(),lt.Documents.UI._thumbnailsGrid.deleteGrid(this._grids$1),this.endLockGrids(),this._grids$1=null);this._document$1=null},_init$1:function(a){this._useThumbnailsGrid$1?(this.set_maximumPostProcessingCount(1),this.set_autoPostProcessCompleted(!0)):(this.set_maximumPostProcessingCount(a),this.set_autoPostProcessCompleted(!1))},beginLockGrids:function(){},endLockGrids:function(){},startWork:function(a){null!=this._imageLoader$1&&(this._imageLoader$1.dispose(),this._imageLoader$1=
null);0<a&&this._useThumbnailsGrid$1&&(this._imageLoader$1=new lt.ImageLoader);lt.Documents.UI._thumbnailsWorker.callBaseMethod(this,"startWork",[a])},workCompleted:function(){this.get_isWorking()&&null!=this._imageLoader$1&&(this._imageLoader$1.dispose(),this._imageLoader$1=null);lt.Documents.UI._thumbnailsWorker.callBaseMethod(this,"workCompleted")},_imageLoader$1:null,processItem:function(a){try{if(this.get_isCancelPending())return new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,a,null,
null,null);if(this._useThumbnailsGrid$1){var b=this._grids$1[a];this.beginLockGrids();var c=this._document$1.images.getThumbnailsGrid(b.get_firstPageNumber(),b.get_lastPageNumber(),this._gridPixelSize$1);if(null==c)return this.endLockGrids(),new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,a,null,null,Error("Error getting thumbnails grid"));this._imageLoader$1.set_url(c);return new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,a,this._imageLoader$1,null,null)}var d=this._document$1.pages[a].getThumbnailImage();
return new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,a,d,null,null)}catch(f){return new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,a,null,null,f)}},completeIteration:function(a,b){if(this._useThumbnailsGrid$1){var c=a.get_data1();if(null==c||this.get_isCancelPending())b(a);else{var d=null,f=null,g=null,d=ss.Delegate.create(this,function(b){try{var c=this._grids$1[a.get_itemIndex()],d;if(b.get_isHTMLImageElement())d=b.get_element();else throw new lt.InvalidOperationException("Thumbnails Grid requires an Image Element");
var f=document.createElement("canvas");f.width=d.naturalWidth;f.height=d.naturalHeight;f.getContext("2d").drawImage(d,0,0);c.set_image(f)}catch(g){a.set_data1(null),a.set_error(g)}}),f=function(){a.set_data1(null);a.set_error(Error("Error loading image"))},g=function(c){c.remove_done(d);c.remove_fail(f);c.remove_always(g);b(a)};c.add_done(d);c.add_fail(f);c.add_always(g);c.run()}}else b(a)}};lt.Documents.UI._viewWorker=function(){lt.Documents.UI._viewWorker.initializeBase(this)};lt.Documents.UI._viewWorker.prototype=
{destroy:function(a){a&&this.stop();lt.Documents.UI._viewWorker.callBaseMethod(this,"destroy",[a])},_document$1:null,_view$1:null,start:function(a,b){this._document$1=a;this._view$1=b;null!=this._document$1&&this.startWork(this._document$1.pages.length)},stop:function(){this.stopWork();this._document$1=null},processItem:function(a){try{var b=new lt.Documents.UI.DocumentViewerOperationEventArgs(4,null,null,null,a+1,!1);this._view$1.get_documentViewer().onOperation(b);if(b.get_abort())return new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,
a,null,null,null);var c=lt.Documents.UI.DocumentViewerView._getPageImages(this._document$1,this._view$1,a);return new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,a,c[0],c[1],null)}catch(d){return new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,a,null,null,d)}}};lt.Documents.UI._itemsWorkerProcessedEventArgs=function(a,b,c,d,f){lt.Documents.UI._itemsWorkerProcessedEventArgs.initializeBase(this);this._itemsWorker$1=a;this._itemIndex$1=b;this._data1$1=c;this._data2$1=d;this._error$1=
f};lt.Documents.UI._itemsWorkerProcessedEventArgs.prototype={_itemsWorker$1:null,get__itemsWorker:function(){return this._itemsWorker$1},_itemIndex$1:0,get_itemIndex:function(){return this._itemIndex$1},_data1$1:null,get_data1:function(){return this._data1$1},set_data1:function(a){return this._data1$1=a},_data2$1:null,get_data2:function(){return this._data2$1},set_data2:function(a){return this._data2$1=a},_error$1:null,get_error:function(){return this._error$1},set_error:function(a){return this._error$1=
a}};lt.Documents.UI._itemWorkerCompletedEventArgs=function(a){lt.Documents.UI._itemWorkerCompletedEventArgs.initializeBase(this);this._itemsWorker$1=a};lt.Documents.UI._itemWorkerCompletedEventArgs.prototype={_itemsWorker$1:null,get__itemsWorker:function(){return this._itemsWorker$1}};lt.Documents.UI._itemsWorker=function(){};lt.Documents.UI._itemsWorker.prototype={dispose:function(){this.destroy(!0)},destroy:function(a){a&&this.stopWork()},_isBackgroundWorker:!1,get_isBackgroundWorker:function(){return this._isBackgroundWorker},
set_isBackgroundWorker:function(a){return this._isBackgroundWorker=a},_visited:null,_visitedCount:0,_timeoutVar:0,_postProcessed:null,_postProcessingCount:0,_maximumPostProcessingCount:0,get_maximumPostProcessingCount:function(){return this._maximumPostProcessingCount},set_maximumPostProcessingCount:function(a){return this._maximumPostProcessingCount=a},_autoPostProcessCompleted:!1,get_autoPostProcessCompleted:function(){return this._autoPostProcessCompleted},set_autoPostProcessCompleted:function(a){return this._autoPostProcessCompleted=
a},_itemCount:0,get_itemCount:function(){return this._itemCount},_isWorking:!1,get_isWorking:function(){return this._isWorking},_isCancelPending:!1,get_isCancelPending:function(){return this._isCancelPending},set_isCancelPending:function(a){return this._isCancelPending=a},_nextItemIndex:0,get_nextItemIndex:function(){return this._nextItemIndex},set_nextItemIndex:function(a){return this._nextItemIndex=a},startWork:function(a){this.stopWork();this._itemCount=a;this._visited=Array(this._itemCount);this._postProcessed=
Array(this._itemCount);this._postProcessingCount=0;this.set_nextItemIndex(0);this._isWorking=!0;this._completedHandlerInvoked=this._isCancelPending=!1;0<this._itemCount&&this._doWork(null)},stopWork:function(){this.get_isWorking()&&(this.set_isCancelPending(!0),this.workCompleted(),this._isWorking=!1)},workCompleted:function(){},add_preProcessItem:function(a){this.__preProcessItem=ss.Delegate.combine(this.__preProcessItem,a)},remove_preProcessItem:function(a){this.__preProcessItem=ss.Delegate.remove(this.__preProcessItem,
a)},__preProcessItem_handler_get:function(){null==this.__preProcessItem_handler&&(this.__preProcessItem_handler=ss.EventHandler.create(this,this.add_preProcessItem,this.remove_preProcessItem));return this.__preProcessItem_handler},__preProcessItem:null,__preProcessItem_handler:null,add_postProcessItem:function(a){this.__postProcessItem=ss.Delegate.combine(this.__postProcessItem,a)},remove_postProcessItem:function(a){this.__postProcessItem=ss.Delegate.remove(this.__postProcessItem,a)},__postProcessItem_handler_get:function(){null==
this.__postProcessItem_handler&&(this.__postProcessItem_handler=ss.EventHandler.create(this,this.add_postProcessItem,this.remove_postProcessItem));return this.__postProcessItem_handler},__postProcessItem:null,__postProcessItem_handler:null,add_completed:function(a){this.__completed=ss.Delegate.combine(this.__completed,a)},remove_completed:function(a){this.__completed=ss.Delegate.remove(this.__completed,a)},__completed_handler_get:function(){null==this.__completed_handler&&(this.__completed_handler=
ss.EventHandler.create(this,this.add_completed,this.remove_completed));return this.__completed_handler},__completed:null,__completed_handler:null,_getNextItemIndex:function(a){var b=this.get_nextItemIndex();for(1>b&&(b=0);b<a&&this._visited[b];)b++;if(b>=a)for(b=0;b<a&&this._visited[b];)b++;return b},_doWork:function(){this._visitedCount=0;this._timeoutVar=-1;this._timeoutVar=setTimeout(ss.Delegate.create(this,this._iterationHandler),0)},_completedHandlerInvoked:!1,_completedHandler:function(){this._completedHandlerInvoked||
(this._completedHandlerInvoked=!0,this.workCompleted(),this._isWorking=!1,null!=this.__completed&&this.__completed(this,new lt.Documents.UI._itemWorkerCompletedEventArgs(this)))},postProcessCompleted:function(a,b,c,d){var f=!1;d?f=this._postProcessed[a]=!0:c?(this._postProcessingCount--,this._postProcessed[a]||(f=this._postProcessed[a]=!0)):(this._postProcessingCount++,this._postProcessed[a]=!1,1<this._maximumPostProcessingCount&&this._postProcessingCount<this._maximumPostProcessingCount&&(f=this._postProcessed[a]=
!0));if(f&&!b){if(this._visitedCount>=this._itemCount)return this._completedHandler(),!0;this._timeoutVar=setTimeout(ss.Delegate.create(this,this._iterationHandler),0)}return f},postProcessCompleteAll:function(){-1!==this._timeoutVar&&(clearTimeout(this._timeoutVar),this._timeoutVar=-1)},completeIteration:function(a,b){b(a)},_doCompleteIteration:function(a){var b=ss.Delegate.create(this,function(b){this._autoPostProcessCompleted&&this.postProcessCompleted(a.get_itemIndex(),!1,!0,!1);this._visitedCount++;
null!=this.__postProcessItem&&this.__postProcessItem(this,b)});this.completeIteration(a,b)},_iterationHandler:function(){-1!==this._timeoutVar&&(clearTimeout(this._timeoutVar),this._timeoutVar=-1);if(this.get_isCancelPending())this._completedHandler();else{var a=this._getNextItemIndex(this._itemCount);if(a>=this._itemCount)this._completedHandler();else{this._visited[a]=!0;var b=null;null!=this.__preProcessItem&&(b=new lt.Documents.UI._itemsWorkerProcessedEventArgs(this,a,null,null,null),this.__preProcessItem(this,
b));b=this.processItem(a);this._doCompleteIteration(b)}}}};Object.defineProperty(lt.Documents.UI._itemsWorker.prototype,"preProcessItem",{get:lt.Documents.UI._itemsWorker.prototype.__preProcessItem_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI._itemsWorker.prototype,"postProcessItem",{get:lt.Documents.UI._itemsWorker.prototype.__postProcessItem_handler_get,enumerable:!0,configurable:!0});Object.defineProperty(lt.Documents.UI._itemsWorker.prototype,"completed",{get:lt.Documents.UI._itemsWorker.prototype.__completed_handler_get,
enumerable:!0,configurable:!0});lt.Documents.UI._lT_VersionNumber.registerClass("lt.Documents.UI._lT_VersionNumber");lt.Documents.UI.DocumentViewerAsyncOperation.registerClass("lt.Documents.UI.DocumentViewerAsyncOperation");lt.Documents.UI.DocumentViewerAnnotations.registerClass("lt.Documents.UI.DocumentViewerAnnotations",null,ss.IDisposable);lt.Documents.UI.ImageViewerAutomationControl.registerClass("lt.Documents.UI.ImageViewerAutomationControl",null,lt.Annotations.Core.IAnnAutomationControl,ss.IDisposable);
lt.Documents.UI.DocumentViewerBookmarks.registerClass("lt.Documents.UI.DocumentViewerBookmarks",null,ss.IDisposable);lt.Documents.UI.DocumentViewerCommand.registerClass("lt.Documents.UI.DocumentViewerCommand");lt.Documents.UI.DocumentViewerCommands.registerClass("lt.Documents.UI.DocumentViewerCommands");lt.Documents.UI.DocumentViewerCreateOptions.registerClass("lt.Documents.UI.DocumentViewerCreateOptions");lt.Documents.UI.DocumentViewerDiagnostics.registerClass("lt.Documents.UI.DocumentViewerDiagnostics");
lt.Documents.UI.DocumentViewer.registerClass("lt.Documents.UI.DocumentViewer",null,ss.IDisposable);lt.Documents.UI.AnnotationsInteractiveMode.registerClass("lt.Documents.UI.AnnotationsInteractiveMode",lt.Controls.ImageViewerInteractiveMode);lt.Documents.UI.DocumentViewerPageLinksInteractiveMode.registerClass("lt.Documents.UI.DocumentViewerPageLinksInteractiveMode",lt.Controls.ImageViewerInteractiveMode);lt.Documents.UI.DocumentViewerSelectTextInteractiveMode.registerClass("lt.Documents.UI.DocumentViewerSelectTextInteractiveMode",
lt.Controls.ImageViewerRubberBandInteractiveMode);lt.Documents.UI.DocumentViewerOperationEventArgs.registerClass("lt.Documents.UI.DocumentViewerOperationEventArgs",lt.LeadEventArgs);lt.Documents.UI.DocumentViewerFindText.registerClass("lt.Documents.UI.DocumentViewerFindText");lt.Documents.UI.DocumentViewerText.registerClass("lt.Documents.UI.DocumentViewerText",null,ss.IDisposable);lt.Documents.UI.DocumentViewerTextItem.registerClass("lt.Documents.UI.DocumentViewerTextItem");lt.Documents.UI.DocumentViewerThumbnails.registerClass("lt.Documents.UI.DocumentViewerThumbnails",
null,ss.IDisposable);lt.Documents.UI.DocumentViewerView.registerClass("lt.Documents.UI.DocumentViewerView",null,ss.IDisposable);lt.Documents.UI.DocumentViewerFactory.registerClass("lt.Documents.UI.DocumentViewerFactory");lt.Documents.UI._documentViewerHelper.registerClass("lt.Documents.UI._documentViewerHelper");lt.Documents.UI._invoker.registerClass("lt.Documents.UI._invoker");lt.Documents.UI._itemsWorker.registerClass("lt.Documents.UI._itemsWorker",null,ss.IDisposable);lt.Documents.UI._annotationsWorker.registerClass("lt.Documents.UI._annotationsWorker",
lt.Documents.UI._itemsWorker);lt.Documents.UI._textReviewDrawDesigner.registerClass("lt.Documents.UI._textReviewDrawDesigner",lt.Annotations.Designers.AnnDrawDesigner);lt.Documents.UI._bookmarksWorker.registerClass("lt.Documents.UI._bookmarksWorker",lt.Documents.UI._itemsWorker);lt.Documents.UI._annotationsCommands.registerClass("lt.Documents.UI._annotationsCommands");lt.Documents.UI._commandHelper.registerClass("lt.Documents.UI._commandHelper");lt.Documents.UI._interactiveCommands.registerClass("lt.Documents.UI._interactiveCommands");
lt.Documents.UI._layoutCommands.registerClass("lt.Documents.UI._layoutCommands");lt.Documents.UI._pageCommands.registerClass("lt.Documents.UI._pageCommands");lt.Documents.UI._textCommands.registerClass("lt.Documents.UI._textCommands");lt.Documents.UI._viewCommands.registerClass("lt.Documents.UI._viewCommands");lt.Documents.UI._internalFindTextResult.registerClass("lt.Documents.UI._internalFindTextResult");lt.Documents.UI._thumbnailsGrid.registerClass("lt.Documents.UI._thumbnailsGrid",null,ss.IDisposable,
ss.IDisposable);lt.Documents.UI._thumbnailsWorker.registerClass("lt.Documents.UI._thumbnailsWorker",lt.Documents.UI._itemsWorker);lt.Documents.UI._viewWorker.registerClass("lt.Documents.UI._viewWorker",lt.Documents.UI._itemsWorker);lt.Documents.UI._itemsWorkerProcessedEventArgs.registerClass("lt.Documents.UI._itemsWorkerProcessedEventArgs",lt.LeadEventArgs);lt.Documents.UI._itemWorkerCompletedEventArgs.registerClass("lt.Documents.UI._itemWorkerCompletedEventArgs",lt.LeadEventArgs);lt.Documents.UI._lT_VersionNumber.l_VER_PRODUCT=
"LEADTOOLS\u00ae for JavaScript";lt.Documents.UI._lT_VersionNumber.l_VER_COMPANYNAME_STR="LEAD Technologies, Inc.";lt.Documents.UI._lT_VersionNumber.l_VER_LEGALTRADEMARKS_STR="LEADTOOLS\u00ae is a trademark of LEAD Technologies, Inc.";lt.Documents.UI._lT_VersionNumber.l_VER_LEGALCOPYRIGHT_STR="\u00a9 1991-2016 LEAD Technologies, Inc.";lt.Documents.UI._lT_VersionNumber.l_VER_DLLEXT=".dll";lt.Documents.UI._lT_VersionNumber.l_VER_EXEEXT=".exe";lt.Documents.UI._lT_VersionNumber.l_VER_PLATFORM="";lt.Documents.UI._lT_VersionNumber.l_VER_PLATFORM_FOR=
"";lt.Documents.UI._lT_VersionNumber.l_VER_PRODUCTNAME_STR="LEADTOOLS\u00ae for JavaScript";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_XXX="Leadtools.Xxx.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_XXX="LEADTOOLS Xxx";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_KERNEL="lt.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_KERNEL="Leadtools";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CONTROLS="lt.Controls.dll";
lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CONTROLS="Controls";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_DOCUMENTS_UI="lt.Documents.UI.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_DOCUMENTS_UI="Documents User Interface";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CONTROLS_MEDICAL="lt.Controls.Medical.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CONTROLS_MEDICAL="Medical Controls";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_DOCUMENTS=
"lt.Documents.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_DOCUMENTS="Documents";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_CORE="lt.Annotations.Core.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_CORE="Annotations Core";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_AUTOMATION="lt.Annotations.Automation.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_AUTOMATION="Annotations Automation";
lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_DESIGNERS="lt.Annotations.Designers.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_DESIGNERS="Annotations Designers";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_RENDERING="lt.Annotations.Rendering.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_RENDERING="Annotations Rendering";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_CCOW=
"Leadtools.Ccow.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_CCOW="Leadtools CCOW Library";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_DOCUMENTS="Leadtools.Annotations.Documents.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_DOCUMENTS="Annotations Documents";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_LEGACY="Leadtools.Annotations.Legacy.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_LEGACY=
"Annotations Legacy";lt.Documents.UI._lT_VersionNumber.l_VER_ORIGINALFILENAME_STR_ANNOTATIONS_JAVASCRIPT="Leadtools.Annotations.JavaScript.dll";lt.Documents.UI._lT_VersionNumber.l_VER_FILEDESCRIPTION_STR_ANNOTATIONS_JAVASCRIPT="JavaScripot Annotations";lt.Documents.UI._lT_VersionNumber.l_VER_PRODUCTVERSION_DOT_STR="19.0.0.0";lt.Documents.UI._lT_VersionNumber.l_VER_FILEVERSION_DOT_STR="19.0.0.8";lt.Documents.UI.DocumentViewerCommands.pageFirst="Page.First";lt.Documents.UI.DocumentViewerCommands.pageNext=
"Page.Next";lt.Documents.UI.DocumentViewerCommands.pagePrevious="Page.Previous";lt.Documents.UI.DocumentViewerCommands.pageLast="Page.Last";lt.Documents.UI.DocumentViewerCommands.pageGoto="Page.GoTo";lt.Documents.UI.DocumentViewerCommands.viewZoomIn="View.ZoomIn";lt.Documents.UI.DocumentViewerCommands.viewZoomOut="View.ZoomOut";lt.Documents.UI.DocumentViewerCommands.viewZoomPercentage="View.ZoomPercentage";lt.Documents.UI.DocumentViewerCommands.viewFitWidth="View.FitWidth";lt.Documents.UI.DocumentViewerCommands.viewFitPage=
"View.FitPage";lt.Documents.UI.DocumentViewerCommands.viewActualSize="View.ActualSize";lt.Documents.UI.DocumentViewerCommands.viewRotateClockwise="View.RotateClockwise";lt.Documents.UI.DocumentViewerCommands.viewRotateCounterClockwise="View.RotateCounterClockwise";lt.Documents.UI.DocumentViewerCommands.viewItemType="View.ItemType";lt.Documents.UI.DocumentViewerCommands.layoutSingle="Layout.Single";lt.Documents.UI.DocumentViewerCommands.layoutVertical="Layout.Vertical";lt.Documents.UI.DocumentViewerCommands.layoutDouble=
"Layout.Double";lt.Documents.UI.DocumentViewerCommands.layoutHorizontal="Layout.Horizontal";lt.Documents.UI.DocumentViewerCommands.interactivePanZoom="Interactive.PanZoom";lt.Documents.UI.DocumentViewerCommands.interactivePan="Interactive.Pan";lt.Documents.UI.DocumentViewerCommands.interactiveZoom="Interactive.Zoom";lt.Documents.UI.DocumentViewerCommands.interactiveZoomTo="Interactive.ZoomTo";lt.Documents.UI.DocumentViewerCommands.interactiveMagnifyGlass="Interactive.MagnifyGlass";lt.Documents.UI.DocumentViewerCommands.interactiveSelectText=
"Interactive.SelectText";lt.Documents.UI.DocumentViewerCommands.interactiveAutoPan="Interactive.AutoPan";lt.Documents.UI.DocumentViewerCommands.interactiveRubberBand="Interactive.RubberBand";lt.Documents.UI.DocumentViewerCommands.textCopy="Text.Copy";lt.Documents.UI.DocumentViewerCommands.textSelectAll="Text.SelectAll";lt.Documents.UI.DocumentViewerCommands.textClearSelection="Text.ClearSelection";lt.Documents.UI.DocumentViewerCommands.textExport="Text.Export";lt.Documents.UI.DocumentViewerCommands.textFindNext=
"Text.FindNext";lt.Documents.UI.DocumentViewerCommands.textFindPrevious="Text.FindPrevious";lt.Documents.UI.DocumentViewerCommands.textGet="Text.Get";lt.Documents.UI.DocumentViewerCommands.annotationsUndo="Annotations.Undo";lt.Documents.UI.DocumentViewerCommands.annotationsRedo="Annotations.Redo";lt.Documents.UI.DocumentViewerCommands.annotationsCut="Annotations.Cut";lt.Documents.UI.DocumentViewerCommands.annotationsCopy="Annotations.Copy";lt.Documents.UI.DocumentViewerCommands.annotationsPaste="Annotations.Paste";
lt.Documents.UI.DocumentViewerCommands.annotationsDelete="Annotations.Delete";lt.Documents.UI.DocumentViewerCommands.annotationsSelectAll="Annotations.SelectAll";lt.Documents.UI.DocumentViewerCommands.annotationsClearSelection="Annotations.ClearSelection";lt.Documents.UI.DocumentViewerCommands.annotationsUserModeDesign="Annotations.UserModeDesign";lt.Documents.UI.DocumentViewerCommands.annotationsUserModeRun="Annotations.UserModeRun";lt.Documents.UI.DocumentViewerCommands.annotationsUserModeRender=
"Annotations.UserModeRender";lt.Documents.UI.DocumentViewerCommands.annotationsBringToFront="Annotations.BringToFront";lt.Documents.UI.DocumentViewerCommands.annotationsSendToBack="Annotations.SendToBack";lt.Documents.UI.DocumentViewerCommands.annotationsBringToFirst="Annotations.BringToFirst";lt.Documents.UI.DocumentViewerCommands.annotationsSendToLast="Annotations.SendToLast";lt.Documents.UI.DocumentViewerCommands.annotationsFlip="Annotations.Flip";lt.Documents.UI.DocumentViewerCommands.annotationsReverse=
"Annotations.Reverse";lt.Documents.UI.DocumentViewerCommands.annotationsGroup="Annotations.Group";lt.Documents.UI.DocumentViewerCommands.annotationsUngroup="Annotations.Ungroup";lt.Documents.UI.DocumentViewerCommands.annotationsLock="Annotations.Lock";lt.Documents.UI.DocumentViewerCommands.annotationsUnlock="Annotations.Unlock";lt.Documents.UI.DocumentViewerCommands.annotationsResetRotatePoints="Annotations.ResetRotatePoints";lt.Documents.UI.DocumentViewerCommands.annotationsAntiAlias="Annotations.AntiAlias";
lt.Documents.UI.DocumentViewerCommands.annotationsProperties="Annotations.Properties";lt.Documents.UI.DocumentViewerCommands.annotationsUseRotateThumbs="Annotations.UseRotateThumbs";lt.Documents.UI.DocumentViewerCommands.annotationsEnableToolTips="Annotations.EnableToolTips";lt.Documents.UI.DocumentViewerCommands.annotationsRenderOnThumbnails="Annotations.RenderOnThumbnails";lt.Documents.UI.DocumentViewerDiagnostics._fills=["rgba(0,0,0,0.25)","rgba(255,255,255,0.25)"];lt.Documents.UI.DocumentViewerDiagnostics._strokes=
["rgba(255,255,255,0.5)","rgba(0,0,0,0.5)"];lt.Documents.UI.DocumentViewerDiagnostics._textColor="yellow";lt.Documents.UI.DocumentViewerDiagnostics._font="10px sans-serif";lt.Documents.UI.DocumentViewer.annotationsInteractiveModeId=100;lt.Documents.UI.DocumentViewer.pageLinksInteractiveModeId=101;lt.Documents.UI.DocumentViewer.selectTextInteractiveModeId=102;lt.Documents.UI.DocumentViewerText._selectedFill="rgba(0,0,0,0.25)"})();
